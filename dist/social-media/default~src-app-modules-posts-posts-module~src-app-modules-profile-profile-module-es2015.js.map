{"version":3,"sources":["./src/app/modules/posts/post-article/post-article.component.ts","./src/app/modules/posts/post-article/post-article.component.html","./src/app/modules/posts/post-publish/post-publish.component.ts","./src/app/modules/posts/post-publish/post-publish.component.html","./src/app/modules/posts/post/post.component.ts","./src/app/modules/posts/post/post.component.html","./src/app/modules/posts/posts-list/posts-list.component.ts","./src/app/modules/posts/posts-list/posts-list.component.html","./src/app/modules/posts/posts-page/posts-page.component.ts","./src/app/modules/posts/posts-page/posts-page.component.html","./src/app/modules/posts/posts-routing.module.ts","./src/app/modules/posts/posts.component.ts","./src/app/modules/posts/posts.component.html","./src/app/modules/posts/posts.module.ts","./src/app/pipes/date-ago.pipe.ts","./src/app/pipes/pipes.module.ts","./src/app/pipes/user.pipe.ts"],"names":[],"mappings":"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","file":"default~src-app-modules-posts-posts-module~src-app-modules-profile-profile-module-es2015.js","sourcesContent":["import { Component, OnInit, OnDestroy, OnChanges } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { PostsService } from '../posts.service';\nimport { LocationService } from 'src/app/services/location.service';\nimport { first, flatMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-post-article',\n  templateUrl: './post-article.component.html',\n  styleUrls: ['./post-article.component.css'],\n})\nexport class PostArticleComponent implements OnInit, OnChanges, OnDestroy {\n\n\n  mainPost;\n  repliesList;\n\n  sub$;\n  sub2;\n\n  loading = true;\n\n  constructor(\n    private route: ActivatedRoute,\n    private postsService: PostsService,\n    private locationService: LocationService,\n  ) { }\n\n  ngOnInit(): void {\n    this.locationService.setStack(['Reply Page']);\n\n    // Replies List\n    this.sub2 = this.postsService.posts$.subscribe(\n      posts => {\n        this.repliesList = posts;\n      }\n    );\n\n    // Main Post\n    this.sub$ = this.postsService.post$.subscribe(post => {\n\n      // Page already loaded and the selected post is known\n      if (post) {\n        this.mainPost = post;\n\n        const haveParents = this.isPopulated(post.parent);\n        const haveChildren = this.isPopulated(post.child);\n        // If we do not have the above declared vars then search them\n        // If replies list is null, search too (this happens when service\n        // has cleared the list)\n        if (!haveParents || !haveChildren || !this.repliesList) {\n          // This function will update replies list too\n          this.loading = true;\n          this.postsService.getPostById(post._id).subscribe(\n            fullPost => {\n              // Update main post data\n              this.mainPost = Object.assign({}, this.mainPost, {\n                parent: fullPost.parent,\n                child: fullPost.child\n              });\n              this.loading = false;\n            }\n          )\n        }\n      }\n      // Page first load: get url param and search post\n      else {\n        // Get only first response. Once the main post changes,\n        // the first condition will be triggered\n        this.loading = true;\n        this.route.params.pipe(\n          flatMap(p => this.postsService.getPostById(p.postId)),\n          first()\n        ).subscribe(fullPost => {\n          // Set main post as copy because we do not want to\n          // pass the child attribute by reference\n          this.mainPost = {...fullPost};\n          this.loading = false;\n        });\n      }\n    });\n\n  }\n\n  ngOnChanges(changes) {\n  }\n\n  ngOnDestroy(): void {\n    this.sub$.unsubscribe();\n    this.sub2.unsubscribe();\n    this.postsService.clearAll();\n  }\n\n  isPopulated(arr) {\n    // cond1: all array elements are not strings (this means we only have ids)\n    // cond2: array empy\n    return arr && arr.every(e => typeof e !== 'string') || arr.length === 0;\n  }\n\n  checkParent(post) {\n    return (post?.parent.length > 0 && typeof post?.parent[0] !== 'string');\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"post-list\">\n   \n    \n      <!-- Upper post -->\n      <ng-container *ngIf=\"checkParent(mainPost)\">\n        <div  *ngFor=\"let upperPost of mainPost.parent; let i=index\">\n          <div>\n            <app-post\n            [contextInfo]=\"{i:i, type:'parent'}\"\n            [publishConfig]=\"{destination:0}\"\n            [inputConfig]=\"{owner:false, thread: true}\"\n            [post]=\"upperPost\">\n            </app-post>\n          </div>\n        </div>\n      </ng-container>\n      <ng-container *ngIf=\"mainPost && !checkParent(mainPost)\">\n        <div  *ngFor=\"let upperPost of mainPost.parent; let i=index\">\n          <div>\n            <app-post\n            [contextInfo]=\"{i:i, type:'parent'}\"\n            [publishConfig]=\"{destination:0}\"\n            [inputConfig]=\"{empty:true, owner:false, thread: true}\"\n            [post]=\"{text:'Loading...'}\">\n            </app-post>\n          </div>\n        </div>\n      </ng-container>\n\n      <!-- Main Post -->\n    <div *ngIf=\"mainPost\">\n      <div class=\"main-post\">\n        <app-post\n        [publishConfig]=\"{destination: 1, parentIndex:0}\"\n        [inputConfig]=\"{owner:false}\"\n        [post]=\"mainPost\">\n        </app-post>\n      </div>\n    </div>\n\n    <!-- Replies -->\n    <div *ngIf=\"repliesList\">\n      <div *ngIf=\"!loading\">\n        <div class=\"reply-container\" *ngFor=\"let reply of repliesList; index as pIndex\">\n          <div>\n            <app-post\n            [contextInfo]=\"{i:pIndex, type:'post'}\"\n            [publishConfig]=\"{destination:2, parentIndex: pIndex, childIndex:reply.child?.length, end: true}\"\n            [deleteConfig]=\"{destination:1, parentIndex: pIndex}\"\n            [inputConfig]=\"{thread: (reply.child?.length !== 0)}\"\n            [post]=\"reply\">\n            </app-post>\n          </div>\n  \n          <!-- Reply to reply (folowing thread) -->\n          <div *ngFor=\"let childReply of reply.child; index as cIndex; last as isLast\">\n            <div class=\"reply\">\n              <app-post\n              [contextInfo]=\"{i:pIndex, type:'reply'}\"\n              [publishConfig]=\"{destination:0, parentIndex: pIndex}\"\n              [deleteConfig]=\"{destination:2, parentIndex: pIndex, childIndex: cIndex}\"\n              [inputConfig]=\"{thread: !isLast}\"\n              [post]=\"childReply\">\n              </app-post>\n            </div>\n          </div>\n        </div>\n        \n        <div style=\"padding: 2rem; text-align: center;\">\n          <h3 *ngIf=\"(!repliesList || repliesList?.length === 0)\">No replies yet</h3>\n        </div>\n      </div>\n    </div>\n\n    <div style=\"padding: 2rem; text-align: center;\">\n      <h3 *ngIf=\"loading\">Searching replies...</h3>\n    </div>\n    \n  </div>\n</div>","import { Component, OnInit, ViewChild, Input, ElementRef } from '@angular/core';\nimport { PostsService } from '../posts.service';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { LocationService } from 'src/app/services/location.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { map, takeLast, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-post-publish',\n  templateUrl: './post-publish.component.html',\n  styleUrls: ['./post-publish.component.css']\n})\nexport class PostPublishComponent implements OnInit {\n  @ViewChild('postInput') postInput;\n  @Input() postReply = null;\n  @Input() destinationConfig = null;\n  user;\n\n  publisher$;\n\n  constructor(\n    private postsService: PostsService,\n    private modalService: ModalService,\n    private token: TokenService,\n  ) { }\n\n  ngOnInit(): void {\n    this.user = this.token.getUserData();\n  }\n\n  publishPost() {\n    const input = this.postInput.nativeElement.innerText;\n    if (!input) return;\n\n    // This way we can close the modal but still send data\n    this.modalService.emitResponse(false, false);\n\n    // Create post payload and check if media was uploaded\n    const post = {\n      text: input,\n      media: this.selectedMedia.length !== 0 ? this.selectedMedia : null\n    };\n\n    // Check if it is a post or a reply\n    const publisher = () => {\n      return this.postReply ?\n             this.postsService.replyPost(this.postReply._id, post, this.destinationConfig) :\n             this.postsService.publishPost(post, this.destinationConfig) ;\n    };\n\n    this.publisher$ = publisher().subscribe(res => {\n      if (res.progress) {\n        this.showUploadProgress = true;\n        this.uploadProgress = res.progress;\n      }\n      else { this.showUploadProgress = false; }\n      // This response catches both progress and published post/reply\n      // Keep emitting responses until progress property does not exist\n      this.modalService.emitResponse(!res.hasOwnProperty('progress'), res);\n    });\n\n    // Empty input and media\n    this.clear();\n  }\n\n  clear() {\n    // Clear input\n    this.postInput.nativeElement.innerText = '';\n    this.mediaSelect.nativeElement.value = '';\n    this.selectedMedia = [];\n    this.selectedMediaBlob = [];\n    this.selectedMediaIndex = 0;\n  }\n\n  /*\n   *  MEDIA UPLOAD \n   *\n   */\n  @ViewChild('mediaSelect') mediaSelect: ElementRef;\n  selectedMedia = [];\n  selectedMediaBlob = [];\n  selectedMediaIndex = -1;\n  onMediaSelect(event) {\n    // Check number of media selected\n    if (this.selectedMedia.length + event.target.files.length > 5) {\n      this.modalService.open(\n        {type: 'default', content: [{title: 'Media error'},\n                                    {html: '<p>You can only attach 5 media files per post!</p>'}]},\n        {action: 'add', stack:['Media', 'Error']});\n      return;\n    }\n\n    for (const [key, media] of Object.entries(event.target.files)) {\n      const filter = this.tempFilter(media);\n      if (!filter.valid) {\n        // Open modal informing the client why the media was not uploaded\n        this.modalService.open(\n          {type: 'default', content: [{title: 'Media error'},\n                                      {html: filter.message}, \n                                      {html: '<p>Try with images or short videos!</p>'}]},\n          {action: 'add', stack:['Media', 'Error']});\n        // Stop function\n        return;\n      };\n      // Set image file\n      this.selectedMedia.push(media);\n      // Display image\n      this.createFormData(media, url => {\n        const mediaBlob = {format: filter.format, url}\n        this.selectedMediaBlob.push(mediaBlob);\n      });\n    }\n    // Always select last media on upload\n    this.selectedMediaIndex = this.selectedMedia.length-1;\n\n  }\n\n  onCancelSelectedMedia(index) {\n    this.selectedMedia.splice(index, 1);\n    this.selectedMediaBlob.splice(index, 1);\n    if (this.selectedMediaIndex > this.selectedMedia.length-1) {\n      if (this.selectedMedia.length !== 0) {\n        this.selectedMediaIndex -= 1;        \n      }\n    }\n  }\n\n\n  private createFormData(file, cb) {\n    const reader = new FileReader;\n    reader.readAsDataURL(file);\n    reader.onload = (_event:any) => { \n      // Clear file input\n      this.mediaSelect.nativeElement.value = '';\n      cb(reader.result)\n    };\n  }\n\n  private tempFilter(media) {\n    let response: {format: string, valid: boolean, message: string} = {\n      format: null,\n      valid: null,\n      message: null\n    };\n    const splittedFormat = media.type.match(/(\\w+)\\/(\\w+)?/);\n    response.format = splittedFormat[1]\n    if (response.format === 'video') {\n      response.valid = !(media.size > 15000000);\n      response.message = 'Max size is 15MB';\n    }\n    else if (response.format === 'image') {\n      response.valid = true;\n    }\n    else {\n      response.valid = false;\n      response.message = `'<strong>${splittedFormat[2]}</strong>' is not a valid format.`;\n    }\n    return response;\n  }\n\n  showUploadProgress = false;\n  uploadProgress: any = 0;\n  private getGalleryUrl() {\n    this.showUploadProgress = true;\n    return this.postsService.uploadGallery(this.selectedMedia).pipe(\n      tap(res => {\n        if (res.progress) {\n          this.uploadProgress = res.progress;\n          this.modalService.emitResponse(false, {progress: res.progress});\n        }\n        else if (res.completed) {\n          this.uploadProgress = 'Uploaded';\n        }\n      }),\n      takeLast(1),\n      map(res => res)\n    );\n  }\n\n}\n","<div *ngIf=\"postReply\" class=\"toReply\">\n  <app-post [inputConfig]=\"{showOpt:false, thread:true, openPage: false}\" [post]=\"postReply\"></app-post>\n</div>\n<article>\n  <div class=\"a-profile\">\n    <img [src]=\"user.avatar.relativePath\">\n  </div>\n  <div class=\"a-content\">\n\n    <div class=\"replyRef upper\" *ngIf=\"postReply\">\n      <span>Replying to&nbsp;</span>\n      <span class=\"aroba\">@{{ postReply.owner.username }}</span>\n    </div>\n\n    <div #postInput contenteditable=\"true\" id=\"text-box\" placeholder=\"What's happening?\"></div>\n\n    <div class=\"a-buttons\">\n      <input #mediaSelect type=\"file\" multiple (change)=\"onMediaSelect($event)\" style=\"display: none;\">\n\n      <div class=\"bttn-opt\">\n        <div class=\"icon-box\" (click)=\"mediaSelect.click()\">\n          <svg class=\"bi bi-image opt-icon\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\"\n            xmlns=\"http://www.w3.org/2000/svg\">\n            <path fill-rule=\"evenodd\"\n              d=\"M14.002 2h-12a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm-12-1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12z\" />\n            <path\n              d=\"M10.648 7.646a.5.5 0 0 1 .577-.093L15.002 9.5V14h-14v-2l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71z\" />\n            <path fill-rule=\"evenodd\" d=\"M4.502 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\" />\n          </svg>\n        </div>\n      </div>\n\n      <div style=\"margin-left:auto\" *ngIf=\"showUploadProgress\">\n        Uploading {{ uploadProgress }}%\n      </div>\n\n\n\n      <div class=\"bttn-post\">\n        <!-- <div class=\"save-bttn\" (click)=\"publishPost()\">\n          Save Draft\n        </div> -->\n        <div class=\"post-bttn noselect\" (click)=\"publishPost()\">\n          Post\n        </div>\n      </div>\n      \n    </div>\n\n    <!-- MEDIA -->\n    <div class=\"media\" *ngIf=\"selectedMediaBlob.length !== 0\">\n      <div class=\"count-container\">\n        <div *ngIf=\"selectedMediaBlob.length > 1\">\n          <ng-container *ngFor=\"let media of selectedMediaBlob; let i=index\">\n            <button\n              (click)=\"selectedMediaIndex = i\"\n              [ngClass]=\"{'current-selected-media': selectedMediaIndex === i}\"\n              class=\"media-count\">{{ i +1 }}</button>\n          </ng-container>\n        </div>\n        <div class=\"remove-bttn empty-wrapper\" (click)=\"onCancelSelectedMedia(selectedMediaIndex)\">Remove media {{ selectedMediaIndex +1 }}</div>\n      </div>\n\n      <div *ngIf=\"selectedMediaBlob[selectedMediaIndex]?.format === 'image'\">\n        <img class=\"selected-media\" [src]=\"selectedMediaBlob[selectedMediaIndex].url\">\n      </div>\n\n      <div *ngIf=\"selectedMediaBlob[selectedMediaIndex]?.format === 'video'\">\n        <span><i>Video thumbnail</i></span>\n        <video class=\"selected-media\" [src]=\"selectedMediaBlob[selectedMediaIndex].url\"></video>\n      </div>\n    </div>\n    \n  </div>\n</article>\n","import { Component, OnInit, Input, ViewChild, OnChanges, ElementRef, OnDestroy, Renderer2, ViewChildren, ContentChild } from '@angular/core';\nimport { PostsService } from '../posts.service';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { NavbarService } from 'src/app/shared/navbar/navbar.service';\nimport { LocationService } from 'src/app/services/location.service';\n\n@Component({\n  selector: 'app-post',\n  templateUrl: './post.component.html',\n  styleUrls: ['./post.component.css']\n})\nexport class PostComponent implements OnInit, OnChanges {\n\n  @Input() contextInfo = {i: 0, type:undefined};\n  @Input() publishConfig: {destination, parentIndex?, childIndex?, end?};\n  @Input() deleteConfig: {destination, parentIndex, childIndex?};\n\n  @ViewChild('triggerTooltip') triggerTooltip;\n\n  _inputConfig;\n  @Input()\n    set inputConfig(inputConfig) {\n      // Reassign default values by the given ones\n      this.config = Object.assign(this.config, inputConfig);\n      this._inputConfig = inputConfig;\n    }\n    get inputConfig() {\n      return this._inputConfig || {};\n    }\n\n  _post;\n  @Input()\n    set post(post) {\n      // Set selected media index\n      if (post.media && post.media.length !== 0 && !post.media[0].selectedIndex) {\n        post.media.unshift({selectedIndex: 1});\n      }\n      // Simulate empty user for loading purposes\n      if (this.config.empty) {\n        post._id = 'loading...';\n        post.replyRef = Array(this.contextInfo.i).fill('???');\n        this._post = post;\n      }\n      // If post is incompleted, use default values\n      else if (!post._id) {\n        // Incompleted post means that the owner is the current publisher\n        const localUser = this.token.getUserData();\n        const selFields = ({id, name, username, avatar}) => ({_id:id, name, username, avatar});\n        post.owner = selFields(localUser);\n        // This change in config is done after inputConfig set\n        this.config.owner = true;\n        this.config.loading = true;\n        this.config.thread = false;\n\n        this._post = post;\n      }\n      else {\n        // Count replies, likes, shares\n        this.countData(post);\n        // Check if liked/shared\n        this._post = this.auth(post, this.token.getUserId());\n        this._post = {...post};\n      }\n    }\n    get post() {\n      return this._post;\n    }\n\n  config = {\n    showOpt: true,\n    openPage: true,\n    owner: false,\n    replied: false,\n    publishing: false,\n    deleted: false,\n    liked: false,\n    shared: false,\n    reported: false,\n    thread: false,\n    tooltip: true,\n    loading: false,\n    empty: false\n  }\n\n  count = {\n    replies: 0,\n    likes: 0,\n    shares: 0\n  };\n\n  mediaSelIdx = 0;\n\n  constructor(\n    private postsService: PostsService,\n    private modalService: ModalService,\n    private token: TokenService,\n    private locationService: LocationService,\n    private navbarService: NavbarService,\n    private renderer: Renderer2\n  ) { }\n\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes) {\n    const different = changes.post?.previousValue?._id !== changes.post?.currentValue._id\n    if (!changes.post?.firstChange && different) {\n      // Reset values when changing posts\n      this.config = Object.assign(this.config, this._inputConfig);\n\n      if (this._post.media && this._post.media.length !== 0 && !this._post.media.selectedIndex) {\n        this._post.media.unshift({selectedIndex: 1});\n      }\n      this.config.replied = false;\n      this.config.deleted = false;\n    }\n  }\n\n  private countData(data) {\n    this.count = {\n      replies: data.child?.length || 0,\n      likes: data.likes,\n      shares: 0 // not added yet\n    };\n  }\n\n  private auth(post, uid?) {\n    // Set owner only if uid corresponds and is not overwritten by inputConfig\n    this.config.owner = (post.owner._id === uid) && \n                        (!this.inputConfig.hasOwnProperty('owner') || this.inputConfig.owner);\n    this.config.liked = post.whoLiked.includes(uid);\n    if (uid) {\n      post.confirm = {\n        owner: this.config.owner,\n        liked: this.config.liked\n      }\n    }\n    return post;\n  }\n\n  goToUser(uid) {\n    if (!this.config.showOpt) return;\n    this.navbarService.go(`/u/${uid}`);\n  }\n\n  replyingProgress = 0;\n  onReply() {\n    if (!this.checkAuth('In order to reply a post you need to be logged in')) return;\n\n    const params = {postReply: this.post, destinationConfig: this.publishConfig};\n    const content = [\n      { module: 'Posts', component:'PostPublish', params}\n    ];\n    const modal = {type: 'default', content};\n    const location = {action: 'add', stack: ['Reply']};\n    this.modalService.open(modal, location, (res) => {\n      if (!res) {\n\n        this.config.replied = false;\n        this.config.publishing = true;\n        // Now, reply is being published, so we can change location to indicate that\n        this.locationService.removeItemFromStack(2);\n        this.locationService.addItemToStack(['Publishing reply...'])\n      } \n      else if (res && res.hasOwnProperty('progress')) {\n        this.replyingProgress = res.progress;\n      }\n      else {\n        this.count.replies += 1;\n        this.config.publishing = false;\n        this.config.replied = true;\n        this.replyingProgress = 0;\n\n        // In this cases (or destionation==0 too), parent child is not updated,\n        // so we must do it manually\n        if (['list', 'reply'].includes(this.contextInfo?.type) ) {\n          this.post.child.push(res);\n        }\n      }\n    });\n  }\n\n  onLike() {\n    if (!this.checkAuth('In order to like a post you need to be logged in')) return;\n    if (this.config.liked) {\n      this.config.liked = false;\n      this.count.likes -= 1;\n    }\n    else {\n      this.config.liked = true;\n      this.count.likes += 1;\n    }\n    this.postsService.likePost(this.post._id)\n  }\n\n  onDelete() {\n    this.postsService.deletePost(this.post._id, this.deleteConfig);\n  }\n\n  openReplyPage() {\n    if (!this.config.openPage) return;\n    this.modalService.forceClose();\n    this.postsService.setMainPost({...this.post}, this.contextInfo);\n    this.navbarService.go('/post/'+this.post._id);\n  }\n\n  onShare() {\n    const url = `${window.location.host}/p/${this.post._id}`; \n    const modal = {type: 'default', content: [\n      { title: 'Share a post' },\n      { html: `<p align=\"center\">${url}</p>` }\n    ]};\n    const location = {action: 'add', stack: ['Share']};\n    this.modalService.open(modal, location);\n  }\n\n  checkAuth(message) {\n    if (this.token.isLogged()) {\n      return true;\n    }\n    else {\n      const modal = {type: 'default', content: [\n        { title: message },\n        { module: 'Auth', component: 'Login', params: {navigateEnd: false} }\n      ]};\n      const location = {action: 'add', stack: ['Login']};\n      this.modalService.open(modal, location);\n      return false\n    }\n  }\n\n  openMedia(src) {\n    const content = [\n      { title: `Media from @${this.post.owner.username}` },\n      { html: `<img width=\"100%\" src=\"${src}\">` }\n    ]\n\n    const modal = {type: 'extended', content};\n    const location = {action: 'add', stack: ['Media']};\n    this.modalService.open(modal, location);\n  }\n\n}\n\n","<article *ngIf=\"post\" [ngClass]=\"config.openPage && 'select-hover'\" [ngStyle]=\"config.loading && {'filter': 'blur(1.5px)'}\">\n\n  \n  <div class=\"route\" (click)=\"openReplyPage()\"></div>\n\n  <div class=\"post\">\n    <div class=\"a-profile\">\n      <div *ngIf=\"config.thread\" class=\"thread-line\"></div>\n      <div class=\"a-profile-avatar\" *ngIf=\"post.owner\">\n        <ng-container *ngIf=\"config.showOpt\">\n          <tooltip-wrapper\n          (clicked)=\"goToUser($event)\"\n          [params]=\"{user: post.owner}\"\n          [trigger]=\"triggerTooltip\">\n            <img #obj class=\"a-avatar\" [src]=\"post.owner.avatar.relativePath\">\n          </tooltip-wrapper>\n        </ng-container>\n        <ng-container *ngIf=\"!config.showOpt\">\n          <img class=\"a-avatar\" [src]=\"post.owner.avatar.relativePath\">\n        </ng-container>\n      </div>\n      <div *ngIf=\"config.empty\">\n        <img class=\"a-avatar\" style=\"background-color: lightgray;\">\n      </div>\n    </div>\n  \n    <div class=\"a-content\">\n      <div class=\"a-acc\">\n        <span class=\"a-username\">\n          <span>\n            <div>\n              <span class=\"aroba\" #triggerTooltip>\n                @{{ post.owner.username }}\n              </span>\n              <span> - {{ post.createdAt | dateAgo}}</span>\n            </div>\n          </span>\n        </span>\n        <div class=\"delete-bttn\" style=\"margin-left: auto\" *ngIf=\"config.owner && config.showOpt && !config.loading\">\n          <span title=\"Delete post\" class=\"material-icons\" (click)=\"onDelete()\">clear</span>\n        </div>\n      </div>\n\n      <div class=\"replyRef\" *ngIf=\"post.replyRef && post.replyRef.length !== 0\">\n        <span>Replying to&nbsp;</span>\n        <div class=\"arobas\" *ngFor=\"let user of post.replyRef; let i=index\">\n          <span class=\"aroba\" (click)=\"goToUser(user)\">{{ user }}</span>\n          <span *ngIf=\"i !== post.replyRef.length-1\">&nbsp;>&nbsp;</span>\n        </div>\n      </div>\n      <div class=\"a-text\">\n        {{ post.text }}\n      </div>\n\n\n      <!-- MEDIA -->\n      <div *ngIf=\"post.media && post.media.length !== 0\">\n        <div class=\"count-container\">\n          <div *ngIf=\"post.media.length > 2\">\n            <ng-container *ngFor=\"let media of post.media.slice(1); let i=index\">\n              <button\n                [title]=\"'Change to image '.concat(i+1)\"\n                (click)=\"post.media[0].selectedIndex = i+1\"\n                [ngClass]=\"{'current-selected-media': post.media[0].selectedIndex === i+1}\"\n                class=\"media-count\">{{ i +1 }}</button>\n            </ng-container>\n          </div>\n        </div>\n\n        <img loading=\"lazy\" title=\"Click to open full screen\" (click)=\"openMedia(post.media[post.media[0].selectedIndex].fullPath)\"\n          class=\"selected-media\" [src]=\"post.media[post.media[0].selectedIndex].relativePath\">\n        <!-- <div *ngIf=\"selectedMediaBlob[selectedMediaIndex].format === 'image'\">\n          <img class=\"selected-media\" [src]=\"selectedMediaBlob[selectedMediaIndex].url\">\n        </div>\n\n        <div *ngIf=\"selectedMediaBlob[selectedMediaIndex].format === 'video'\">\n          <span><i>Video thumbnail</i></span>\n          <video class=\"selected-media\" [src]=\"selectedMediaBlob[selectedMediaIndex].url\"></video>\n        </div> -->\n      </div> <!-- end MEDIA -->\n\n      <div class=\"a-buttons noselect\" *ngIf=\"config.showOpt\">\n  \n        <div class=\"a-bttn-group\">\n          <div class=\"a-bttn-icon-box\">\n            <span title=\"Reply\" class=\"material-icons a-bttn-icon\" (click)=\"onReply()\">chat_bubble_outline</span>\n          </div>\n          <span class=\"a-bttn-count\">\n            {{ count.replies }} \n            <span class=\"notify\" style=\"color: orange\" *ngIf=\"config.publishing\">\n              ~ publishing\n              <span *ngIf=\"replyingProgress !== 0\">&nbsp;({{replyingProgress}})</span>\n            </span>\n            <span class=\"primary notify\" *ngIf=\"config.replied\">&nbsp;~ published</span>\n            <!-- <span class=\"primary notify\" *ngIf=\"config.deleted\">&nbsp;~ deleted</span> -->\n          </span>\n        </div>\n  \n        <div class=\"a-bttn-group noselect\">\n          <div class=\"a-bttn-icon-box\">\n            <span title=\"Like\" *ngIf=\"!config.liked\" class=\"material-icons a-bttn-icon\" (click)=\"onLike()\">favorite_border</span>\n            <span title=\"Dislike\" *ngIf=\"config.liked\" class=\"material-icons a-bttn-icon red\" (click)=\"onLike()\">favorite</span>\n          </div>\n          <span class=\"a-bttn-count\">\n            {{ count.likes }}\n          </span>\n        </div>\n  \n        <div class=\"a-bttn-group\">\n          <div class=\"a-bttn-icon-box a-bttn-icon\">\n            <span title=\"Share\" class=\"material-icons a-bttn-icon\" (click)=\"onShare()\">send</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</article>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { PostsService } from '../posts.service';\nimport { first } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-posts-list',\n  templateUrl: './posts-list.component.html',\n  styleUrls: ['./posts-list.component.css']\n})\nexport class PostsListComponent implements OnInit {\n\n  _queryUrl: string;\n  @Input() showOptPosts = true;\n  @Input()\n    set queryUrl(queryUrl) {\n      this.loading = true;\n      this.postsService.getPostsList(queryUrl).pipe(first()).subscribe(res =>{\n        this.loading = false;\n        this.pageInfo = {\n          count: res.count,\n          pagination: res.pagination\n        };\n      });\n      this._queryUrl = queryUrl;\n    }\n    get queryUrl() {\n      return this._queryUrl;\n    }\n\n  postsList$;\n  pageInfo;\n\n  loading = true;\n  isLogged$;\n\n  constructor(\n    private postsService: PostsService,\n  ) { }\n\n  ngOnInit(): void {\n    this.postsList$ = this.postsService.posts$;\n  }\n}\n","<div class=\"container\">\n  <!-- <div *ngIf=\"pageInfo\">\n    <span>Count: {{ pageInfo.count }} | </span>\n    <span>Next page: {{ pageInfo.pagination.next.page }} | </span>\n    <span>Limit: {{  pageInfo.pagination.next.limit}}</span>\n    <hr>\n  </div> -->\n\n  <div *ngIf=\"loading\" style=\"padding: 2rem; text-align: center;\">\n    <h3>Searching posts...</h3>\n  </div>\n  <!-- Post Component List -->\n  <div class=\"posts-list\" *ngIf=\"postsList$ | async as postsList\">\n    <div *ngIf=\"!loading && postsList && postsList.length !== 0\">\n      <div class=\"border\" *ngFor=\"let post of postsList; let i=index\">\n        <app-post\n        [inputConfig]=\"{showOpt: showOptPosts, openPage: true}\"\n        [contextInfo]=\"{i:i, type:'list'}\"\n        [publishConfig]=\"{destination:0}\"\n        [deleteConfig]=\"{destination:1, parentIndex:i}\"\n        [post]=\"post\">\n        </app-post>\n      </div>\n    </div>\n\n    <div *ngIf=\"!loading && postsList.length === 0\" style=\"padding: 2rem; text-align: center;\">\n      <h3>No posts published yet</h3>   \n    </div>\n\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { PostsService } from '../posts.service';\nimport { LocationService } from 'src/app/services/location.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { concatMap, map, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\n@Component({\n  selector: 'app-posts-page',\n  templateUrl: './posts-page.component.html',\n  styleUrls: ['./posts-page.component.css']\n})\nexport class PostsPageComponent implements OnInit {\n  queryUrl;\n\n  postsList$;\n  pageInfo;\n\n  loading = true;\n  needsLogin;\n  isLogged;\n\n  constructor(\n    private postsService: PostsService,\n    private locationService: LocationService,\n    private token: TokenService,\n    private modalService: ModalService,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {\n    // const pages = {\n    //   explore: {\n    //     query: '/posts?parent[size]=0&childLevel=0&[limit]=10',\n    //     auth: false\n    //   },\n    //   home: {\n    //     query: '/posts/user',\n    //     auth: true\n    //   }\n    // };\n    this.token.user$.pipe(\n      concatMap((value, index) => (index !== 0 && index !== 1)\n        ? of(value).pipe(\n            tap(_ => this.postsService.refreshList())\n          )\n        : of(value)\n      ),\n    ).subscribe(isLogged => {\n      this.isLogged = isLogged;\n    });\n\n    const routeData = this.route.snapshot.data;\n    this.needsLogin = routeData['auth'];\n    this.queryUrl = routeData['query']\n    // this.route.params.subscribe(p => {\n    //   this.needsLogin = pages[p.page].auth;\n    //   this.queryUrl = pages[p.page].query;\n    // });\n  }\n\n  auth(component) {\n    const modal = {type: 'default', content: [\n      { title: 'Auth in order to post' },\n      { module: 'Auth', component, params: {navigateEnd: false} }\n    ]};\n    const location = {action: 'add', stack: [component]};\n    this.modalService.open(modal, location);\n  }\n}\n","<div class=\"container\">\n  <!-- Publish Component -->\n  <div *ngIf=\"isLogged; else notLogged\">\n    <app-post-publish\n      [destinationConfig]=\"{destination:1, parentIndex:0}\">\n    </app-post-publish>\n  </div>\n  \n  <ng-template #notLogged class=\"border auth-container\">\n    <div class=\"notLogged\">\n      <span class=\"auth-text\">In order to post you need to be logged in!</span>\n      <div class=\"bttn-group\">\n        <button class=\"bttn solid-bttn\" (click)=\"auth('Login')\">Login</button>\n        &nbsp;or&nbsp;\n        <button class=\"bttn solid-bttn\" (click)=\"auth('Register')\">Register</button>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-container *ngIf=\"!needsLogin && needsLogin !== null || isLogged\">\n    <app-posts-list [queryUrl]=\"queryUrl\"></app-posts-list>\n  </ng-container>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n// Components\nimport { PostsComponent } from './posts.component'; // Main\nimport { PostComponent } from './post/post.component';\nimport { PostPublishComponent } from './post-publish/post-publish.component';\nimport { PostsListComponent } from './posts-list/posts-list.component';\nimport { PostsPageComponent } from './posts-page/posts-page.component';\nimport { PostArticleComponent } from './post-article/post-article.component';\n\nconst routes: Routes = [\n  { \n    path: 'post/:postId',\n    component: PostArticleComponent,\n  },\n  { \n    path: 'explore', \n    component: PostsPageComponent,\n    data: {\n      page: 'explore',\n      query: '/posts?parent[size]=0&childLevel=0&[limit]=10',\n      auth: false\n    }\n  },\n  { \n    path: 'home', \n    component: PostsPageComponent,\n    data: {\n      path: 'home',\n      query: '/posts/user',\n      auth: true\n    }\n  },\n  {\n    path: '',\n    redirectTo: '/explore',\n    pathMatch: 'full'\n  },\n  {\n    path: '**',\n    redirectTo: '/explore',\n    pathMatch: 'full'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PostsRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-posts',\n  templateUrl: './posts.component.html',\n  styleUrls: ['./posts.component.css']\n})\nexport class PostsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<router-outlet></router-outlet>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PostsRoutingModule } from './posts-routing.module';\n\nimport { PostsComponent } from './posts.component';\nimport { PostComponent } from './post/post.component';\nimport { PostPublishComponent } from './post-publish/post-publish.component';\nimport { PostsListComponent } from './posts-list/posts-list.component';\nimport { PostArticleComponent } from './post-article/post-article.component';\n\nimport { ModalModule } from 'src/app/shared/modal/modal.module';\n// import { ProfileModule } from 'src/app/modules/profile/profile.module';\n// import { TooltipModule } from 'src/app/shared/tooltip/tooltip.module';\n\nimport { PipesModule } from 'src/app/pipes/pipes.module';\nimport { PostsPageComponent } from './posts-page/posts-page.component';\n\n\n@NgModule({\n  declarations: [\n    PostComponent,\n    PostPublishComponent,\n    PostsListComponent,\n    PostArticleComponent,\n    PostsComponent,\n    PostsPageComponent\n  ],\n  imports: [\n    CommonModule,\n    PostsRoutingModule,\n    ModalModule,\n    PipesModule,\n  ],\n  exports: [\n    PostComponent,\n    PostPublishComponent,\n    PostsListComponent\n  ]\n})\nexport class PostsModule { \n  static components = {\n    PostComponent,\n    PostPublishComponent,\n    PostsListComponent\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'dateAgo'\n})\nexport class DateAgoPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (value) {\n      const seconds = Math.floor((+new Date() - +new Date(value)) / 1000);\n      if (seconds < 29) // less than 30 seconds ago will show as 'Just now'\n        return 'Just now';\n      const intervals = {\n        'year': 31536000,\n        'month': 2592000,\n        'week': 604800,\n        'day': 86400,\n        'hour': 3600,\n        'minute': 60,\n        'second': 1\n      };\n      let counter;\n      for (const i in intervals) {\n        counter = Math.floor(seconds / intervals[i]);\n        if (counter > 0)\n          if (counter === 1) {\n            return counter + ' ' + i + ' ago'; // singular (1 day ago)\n          } else {\n            return counter + ' ' + i + 's ago'; // plural (2 days ago)\n          }\n      }\n    }\n    return value;\n  }\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { DateAgoPipe } from './date-ago.pipe';\nimport { UserPipe } from './user.pipe';\n\n@NgModule({\n  declarations: [\n    DateAgoPipe, \n    UserPipe\n  ],\n  exports: [\n    DateAgoPipe,\n    UserPipe\n  ]\n})\nexport class PipesModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'user'\n})\nexport class UserPipe implements PipeTransform {\n\n  transform(value: unknown, ...args: unknown[]): unknown {\n    return '@' + value;\n  }\n\n}\n"],"sourceRoot":"webpack:///"}