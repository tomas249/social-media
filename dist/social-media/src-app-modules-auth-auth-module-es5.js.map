{"version":3,"sources":["webpack:///src/app/guards/logged-out.guard.ts","webpack:///src/app/modules/auth/accounts/accounts.component.ts","webpack:///src/app/modules/auth/accounts/accounts.component.html","webpack:///src/app/modules/auth/auth-routing.module.ts","webpack:///src/app/modules/auth/auth.component.ts","webpack:///src/app/modules/auth/auth.component.html","webpack:///src/app/modules/auth/auth.module.ts","webpack:///src/app/modules/auth/auth.service.ts","webpack:///src/app/modules/auth/login/login.component.ts","webpack:///src/app/modules/auth/login/login.component.html","webpack:///src/app/modules/auth/register/register.component.ts","webpack:///src/app/modules/auth/register/register.component.html","webpack:///src/app/pipes/date-ago.pipe.ts","webpack:///src/app/pipes/pipes.module.ts","webpack:///src/app/pipes/user.pipe.ts"],"names":["LoggedOutGuard","token","location","router","activatedRoute","isLogged","providedIn","AccountsComponent","authService","navbarService","locationService","modalService","user","getUserData","setStack","onGetAssociated","content","html","buttons","title","close","event","modal","type","action","stack","open","closeAccepted","logout","subscribe","_","removeTokens","go","err","refreshToken","getRefreshToken","getActiveAccounts","tokens","revokeToken","filter","t","selector","templateUrl","styleUrls","routes","path","component","children","canActivate","AuthRoutingModule","forChild","imports","exports","AuthComponent","AuthModule","components","LoginComponent","RegisterComponent","menu","root","trigger","name","declarations","AuthService","api","payload","post","pipe","res","refreshTKN","data","accessTKN","accessToken","setTokens","navigate","get","fb","auth","modalBox","loginResponse","messageList","success","navigateEnd","loginForm","group","email","required","maxLength","password","minLength","field","keyError","extra","charAt","toUpperCase","slice","message","Object","keys","controls","forEach","key","controlErrors","errors","length","requiredLength","errorMssg","errorMessages","push","getFormValidationErrors","invalid","value","toLowerCase","login","emitResponse","e","error","onLogin","registerForm","noEmail","bind","confirmPassword","mustMatch","control","indexOf","isEmail","newUser","register","console","warn","reset","onRegister","DateAgoPipe","args","seconds","Math","floor","Date","intervals","counter","i","PipesModule","UserPipe"],"mappings":"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","file":"src-app-modules-auth-auth-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRoute } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { TokenService } from '../services/token.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoggedOutGuard implements CanActivate {\n  \n  constructor(\n    private token: TokenService,\n\t\tprivate location: Location,\n\t\tprivate router: Router,\n\t\tprivate activatedRoute: ActivatedRoute\n  ) {}\n\n\tcanActivate() {\n\t\t\n\t\tif (this.token.isLogged()) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\n\t}\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { NavbarService } from 'src/app/shared/navbar/navbar.service';\nimport { LocationService } from 'src/app/services/location.service';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\n\n@Component({\n  selector: 'app-accounts',\n  templateUrl: './accounts.component.html',\n  styleUrls: ['./accounts.component.css']\n})\nexport class AccountsComponent implements OnInit {\n\n  user;\n  tokens;\n  refreshToken;\n\n  constructor(\n    private authService: AuthService,\n    private token: TokenService,\n    private navbarService: NavbarService,\n    private locationService: LocationService,\n    private modalService: ModalService\n  ) { }\n\n  ngOnInit(): void {\n    this.user = this.token.getUserData();\n    this.locationService.setStack(['Accounts']);\n    this.onGetAssociated();\n  }\n\n  logout() {\n    const content = [\n      { html: 'Are you sure you want to close your account?' },\n      { buttons: [\n        { title: 'Accept', close: true, event: true },\n        { title: 'Cancel', close: true, event: false }\n      ] }\n    ];\n\n    const modal = {type: 'default', content};\n    const location = {action: 'add', stack: ['Logout confirm']};\n\n    this.modalService.open(modal, location, (closeAccepted) => {\n      if (closeAccepted) {\n        this.authService.logout().subscribe(\n          _ => {\n            this.token.removeTokens();\n            this.navbarService.go('/explore');\n          },\n          err => {\n            this.token.removeTokens();\n            this.navbarService.go('/explore');\n          }\n        );\n      }\n    });\n  }\n\n  onGetAssociated() {\n    this.refreshToken = this.token.getRefreshToken();\n    this.authService.getActiveAccounts().subscribe(tokens => {\n      this.tokens = tokens;\n    })\n  }\n\n  onRevoke(token) {\n    this.authService.revokeToken(token).subscribe(_ => {\n      this.tokens = this.tokens.filter(t => t.token !== token);\n    });\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"acc-info\">\n    <div>Name: <span class=\"primary\">{{ user.name }}</span></div>\n    <div>Username: <span class=\"primary\">@{{ user.username }}</span></div>\n    <div>Id: <span class=\"primary\">{{ user.id }}</span></div>\n  </div>\n  <button class=\"empty-wrapper logout-bttn\" (click)=\"logout()\">Logout</button>\n</div>\n\n<span>Active sessions:</span>\n<hr>\n<ng-container *ngIf=\"tokens\">\n  <div class=\"token-item\" *ngFor=\"let item of tokens\">\n    <div class=\"token-data\">\n      <span>{{ item.title }}</span>\n      <span>> {{ item.createdAt | dateAgo }}</span>\n    </div>\n    <button class=\"empty-wrapper revoke-bttn\"\n    (click)=\"onRevoke(item.token)\"\n    *ngIf=\"item.token !== refreshToken; else currentTkn\">\n      Revoke\n    </button>\n    <ng-template #currentTkn>\n      <span>Current</span>\n    </ng-template>\n    \n  </div>\n</ng-container>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n// Components\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { AuthComponent } from './auth.component';\nimport { AccountsComponent } from './accounts/accounts.component';\n\n// Guards\nimport { LoggedInGuard } from 'src/app/guards/logged-in.guard'\nimport { LoggedOutGuard } from 'src/app/guards/logged-out.guard'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthComponent,\n    children: [\n      { \n        path: 'login',\n        component: LoginComponent,\n        canActivate: [LoggedOutGuard],\n      },\n      {\n        path: 'register',\n        component: RegisterComponent,\n        canActivate: [LoggedOutGuard],\n      },\n      {\n        path: 'accounts', \n        component: AccountsComponent,\n        canActivate: [LoggedInGuard],\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  constructor(\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container\">\n  <router-outlet></router-outlet>\n</div>","import { NgModule, ComponentFactoryResolver, ComponentFactory } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n// Routing\nimport { AuthRoutingModule } from './auth-routing.module';\n\n// Components\nimport { AuthComponent } from './auth.component';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { AccountsComponent } from './accounts/accounts.component';\n\n// Modules\nimport { ModalModule } from 'src/app/shared/modal/modal.module';\n\n// Pipes\nimport { PipesModule } from 'src/app/pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    LoginComponent,\n    RegisterComponent,\n    AuthComponent,\n    AccountsComponent\n  ],\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    PipesModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ModalModule\n  ]\n})\nexport class AuthModule {\n  static components = {\n    AuthComponent,\n    LoginComponent,\n    RegisterComponent,\n    AccountsComponent\n  };\n\n  static menu = {\n    root: 'Auth',\n    trigger: ['Login', 'Register'],\n    children: [\n      {\n        name: 'Login',\n        component: 'Login',\n      },\n      {\n        name: 'Register',\n        component: 'Register',\n      }\n    ]\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { Router } from '@angular/router';\nimport { tap, map, catchError } from 'rxjs/operators';\nimport { of, throwError } from 'rxjs';\nimport { HttpHeaders } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(\n    private api: ApiService,\n    private token: TokenService,\n    private router: Router\n  ) { }\n\n  register(payload) {\n    return this.api.post('/auth/register', payload);\n  }\n\n  login(payload) {\n    return this.api.post('/auth/login', payload)\n    .pipe(\n      tap(res => {\n        const refreshTKN = res.data.refreshToken;\n        const accessTKN = res.data.accessToken\n        this.token.setTokens(refreshTKN, accessTKN);\n      })\n    );\n  }\n\n  logout() {\n    const refreshToken = this.token.getRefreshToken();\n    return this.api.post('/auth/logout', {refreshToken}).pipe(\n      tap(_ => {\n        this.token.removeTokens();\n        this.router.navigate(['/explore']);\n      })\n    );\n  }\n\n  getActiveAccounts() {\n    return this.api.get('/tokens/associated');\n  }\n\n  revokeToken(refreshToken) {\n    return this.api.post('/tokens/remove', {refreshToken})\n\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { FormGroup, FormBuilder, Validators, ValidationErrors } from '@angular/forms';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { NavbarService } from 'src/app/shared/navbar/navbar.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  \n  @Input() modalBox: boolean = false;\n  @Output() loginResponse = new EventEmitter();\n\n  loginForm: FormGroup;\n  messageList = [];\n  success = false;\n  navigateEnd = true;\n\n  constructor(\n    private fb: FormBuilder,\n    private auth: AuthService,\n    private token: TokenService,\n    private router: Router,\n    private navbarService: NavbarService,\n    private modalService: ModalService\n  ) {\n\n    this.loginForm = this.fb.group({\n      email: ['', [\n        Validators.required,\n        Validators.maxLength(50),\n        Validators.email\n      ]],\n      password: ['', [\n        Validators.required,\n        Validators.minLength(4),\n        Validators.maxLength(40)\n      ]],\n    });\n    \n  }\n\n  ngOnInit() {\n  }\n\n  errorMessages(field, keyError, extra=null) {\n    field = field.charAt(0).toUpperCase() + field.slice(1);\n    const message = {\n      'required': `${field} field is required`,\n      'maxlength': `${field} field max length is ${extra} characters`,\n      'minlength': `${field} field min length is ${extra} characters`,\n      'email': `Enter a valid email`\n    };\n    return message[keyError];\n  }\n\n  getFormValidationErrors() {\n    this.messageList = [];\n    Object.keys(this.loginForm.controls).forEach(key => {\n      const controlErrors: ValidationErrors = this.loginForm.get(key).errors;\n      if (controlErrors !== null) {\n        Object.keys(controlErrors).forEach(keyError => {\n          const length = controlErrors[keyError];\n          const extra = (typeof length === 'object') ? length.requiredLength : null;\n          const errorMssg = this.errorMessages(key, keyError, extra);\n          this.messageList.push(errorMssg);\n        });\n      }\n    });\n  }\n\n\n  onLogin() {\n    this.getFormValidationErrors();\n    if (this.loginForm.invalid) return;\n\n    let payload = {\n      email: this.loginForm.get('email').value.toLowerCase(),\n      password: this.loginForm.get('password').value\n    };\n\n    // Send request to API\n    this.auth.login(payload).subscribe(\n    res => {\n      this.modalService.emitResponse(true, true);\n      if (this.navigateEnd) this.navbarService.go('/explore');\n    },\n    err => {\n      const e = err.error;\n      this.success = e.success;\n      this.messageList.push(e.message);\n    });\n  }\n  \n}","<div class=\"auth-container\">\n  <form class=\"auth\" [formGroup]=\"loginForm\" (ngSubmit)=\"onLogin()\">\n    <span class=\"title\">Sign in</span>\n    <input formControlName=\"email\" autocomplete=\"on\" class=\"input\" type=\"text\" placeholder=\"Email (demo: tomas@gmail.com)\">\n    <input formControlName=\"password\" autocomplete=\"on\" class=\"input\" type=\"password\" placeholder=\"Password (demo: 1234)\">\n    <button class=\"input button btn\" type=\"submit\">Login</button>\n    <div class=\"message\" *ngIf=\"messageList.length !== 0\">\n      <p [ngClass]=\"success ? 'success' : 'error'\" \n        *ngFor=\"let message of messageList\">\n        {{ message }}\n      </p>\n    </div>\n  </form>\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AuthService} from '../auth.service';\nimport { FormGroup, FormControl, FormBuilder, Validators, ValidationErrors } from '@angular/forms';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n\n  public registerForm: FormGroup;\n  messageList = [];\n  success = false;\n\n  constructor(\n    private auth: AuthService,\n    private fb: FormBuilder,\n  ) {\n    this.registerForm = this.fb.group({\n      name: ['', [\n        Validators.required,\n        Validators.minLength(4),\n        Validators.maxLength(30),\n        this.noEmail.bind(this)\n      ]],\n      email: ['', [\n        Validators.required,\n        Validators.maxLength(50),\n        Validators.email\n      ]],\n      password: ['', [\n        Validators.required,\n        Validators.minLength(4),\n        Validators.maxLength(40)\n      ]],\n      confirmPassword: ['', [\n        Validators.required,\n        this.mustMatch.bind(this)\n      ]]\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  private noEmail(control: FormControl) {\n    const name = control.value;\n    if (name && name.indexOf('@') !== -1) {\n      return {isEmail: 'yes'};\n    }\n  }\n\n  private mustMatch(control: FormControl) {\n    if (!this.registerForm) return null;\n    const password = this.registerForm.value.password;\n    const confirmPassword = control.value;\n    return password === confirmPassword ? null : {\n      mustMatch: 'true'\n    };\n  }\n\n  errorMessages(field, keyError, extra=null) {\n    field = field.charAt(0).toUpperCase() + field.slice(1);\n    const message = {\n      'required': `${field} field is required`,\n      'maxlength': `${field} field max length is ${extra} characters`,\n      'minlength': `${field} field min length is ${extra} characters`,\n      'mustMatch': `Both passwords must match`,\n      'isEmail': `${field} can not contain @`,\n      'email': `Enter a valid email`\n    };\n    return message[keyError] || \n    `Unrecognized validator (Field: ${field}, KeyError: ${keyError})`;\n  }\n\n  getFormValidationErrors() {\n    this.messageList = [];\n    Object.keys(this.registerForm.controls).forEach(key => {\n      const controlErrors: ValidationErrors = this.registerForm.get(key).errors;\n      if (controlErrors !== null) {\n        Object.keys(controlErrors).forEach(keyError => {\n          const length = controlErrors[keyError];\n          const extra = (typeof length === 'object') ? length.requiredLength : null;\n          const errorMssg = this.errorMessages(key, keyError, extra);\n          this.messageList.push(errorMssg);\n        });\n      }\n    });\n  }\n\n  onRegister() {\n    this.getFormValidationErrors();\n    if (this.registerForm.invalid) return;\n\n    const newUser = {\n      name: this.registerForm.get('name').value,\n      email: this.registerForm.get('email').value.toLowerCase(),\n      password: this.registerForm.get('password').value\n    }\n\n    this.auth.register(newUser).subscribe(\n      res => {\n        console.warn(res)\n        this.success = res.success;\n        this.messageList.push(res.message);\n        this.registerForm.reset();\n      },\n      err => {\n        const e = err.error;\n        this.success = e.success;\n        this.messageList.push(e.message);\n      })\n  }\n}\n","<div class=\"auth-container\">\n  <form class=\"auth\" [formGroup]=\"registerForm\" (ngSubmit)=\"onRegister()\">\n    <span class=\"title\">Sign up</span>\n    <input formControlName=\"name\" autocomplete=\"on\" class=\"input\" type=\"text\" placeholder=\"Name (can be changed)\">\n    <input formControlName=\"email\" autocomplete=\"on\" class=\"input\" type=\"text\" placeholder=\"Email\">\n    <input formControlName=\"password\" autocomplete=\"on\" class=\"input\" type=\"password\" placeholder=\"Password\">\n    <input formControlName=\"confirmPassword\" class=\"input\" type=\"password\" placeholder=\"Confirm Password\">\n    <button class=\"input button btn\" type=\"submit\">Create account</button>\n    <div class=\"message\" *ngIf=\"messageList.length !== 0\">\n      <p [ngClass]=\"success ? 'success' : 'error'\" \n        *ngFor=\"let message of messageList\">\n        {{ message }}\n      </p>\n    </div>\n  </form>\n</div>","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'dateAgo'\n})\nexport class DateAgoPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (value) {\n      const seconds = Math.floor((+new Date() - +new Date(value)) / 1000);\n      if (seconds < 29) // less than 30 seconds ago will show as 'Just now'\n        return 'Just now';\n      const intervals = {\n        'year': 31536000,\n        'month': 2592000,\n        'week': 604800,\n        'day': 86400,\n        'hour': 3600,\n        'minute': 60,\n        'second': 1\n      };\n      let counter;\n      for (const i in intervals) {\n        counter = Math.floor(seconds / intervals[i]);\n        if (counter > 0)\n          if (counter === 1) {\n            return counter + ' ' + i + ' ago'; // singular (1 day ago)\n          } else {\n            return counter + ' ' + i + 's ago'; // plural (2 days ago)\n          }\n      }\n    }\n    return value;\n  }\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { DateAgoPipe } from './date-ago.pipe';\nimport { UserPipe } from './user.pipe';\n\n@NgModule({\n  declarations: [\n    DateAgoPipe, \n    UserPipe\n  ],\n  exports: [\n    DateAgoPipe,\n    UserPipe\n  ]\n})\nexport class PipesModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'user'\n})\nexport class UserPipe implements PipeTransform {\n\n  transform(value: unknown, ...args: unknown[]): unknown {\n    return '@' + value;\n  }\n\n}\n"]}