{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/services/api-http.interceptor.ts","./src/app/services/api.service.ts","./src/app/services/location.service.ts","./src/app/services/token.service.ts","./src/app/shared/modal/modal.service.ts","./src/app/shared/navbar/navbar.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\n/**\n *  Load all layouts in a lazy way\n */\n\nconst routes: Routes = [\n  {\n    path: '',\n    loadChildren: () => import('./layouts/main/main.module')\n      .then(m => m.MainModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'sm-refact';\n}\n","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\n// Modules\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\n\n// Services\nimport { ApiHttpInterceptor } from './services/api-http.interceptor';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule\n  ],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: ApiHttpInterceptor,\n      multi: true\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","\nimport { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\nimport { TokenService } from './token.service';\nimport { Observable, throwError, BehaviorSubject, of } from 'rxjs';\nimport { catchError, filter, take, switchMap, retryWhen } from 'rxjs/operators';\nimport { ModalService } from '../shared/modal/modal.service';\nimport { NavbarService } from '../shared/navbar/navbar.service';\n\n@Injectable()\nexport class ApiHttpInterceptor implements HttpInterceptor {\n  \n  isRefreshing = false;\n  refreshTokenSubject: BehaviorSubject<any> = new BehaviorSubject<any>(null);\n  \n  constructor(\n    public token: TokenService,\n    private modalService: ModalService,\n    private navbarService: NavbarService\n    ) { }\n    \n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n      \n      // Exclude some api requests\n      const login = '/api/auth/login';\n      const register = '/api/auth/register';\n      \n      if (req.url.search(login) != -1 ||\n          req.url.search(register) != -1\n          ){\n          return next.handle(req);\n      }\n      \n      // Send request with AccessToken\n      if (this.token.getAccessToken() && this.token.getRefreshToken()) {\n        req = this.addToken(req, this.token.getAccessToken());\n      } else {\n        this.token.removeTokens();\n      }\n      \n      return next.handle(req).pipe(\n        catchError(err => {\n\n          // if (!navigator.onLine) {\n          //   return throwError({error: 'Could not get response. Check your connection.'});\n          // }\n          // else {\n          //   return throwError(err);\n          // }\n          if (err instanceof HttpErrorResponse && err.status === 401) {\n            return this.handle401Error(req, next);\n          }\n          else if (err instanceof HttpErrorResponse &&\n            err.error.message === 'Invalid RefreshToken') {\n            this.token.removeTokens();\n            this.navbarService.go('/explore');\n            const content = [\n              { title: 'Session revoked' },\n              { html:  `<p>Your sessions was revoked, login again please</p>` }\n            ];\n            const modal = {type: 'default', content};\n            const location = {action: 'set', stack: ['Error']};\n            this.modalService.open(modal, location);\n            return throwError('Session revoked');\n          }\n          else {\n            const content = [\n              { title: 'Error was found' },\n              { html: '<p>Got the following error:</p>' },\n              { html:  `<p>${JSON.stringify(err.error.message)}</p>` }\n            ];\n            const modal = {type: 'default', content};\n            const location = {action: 'set', stack: ['Unhandled Error']};\n            this.modalService.open(modal, location);\n            return throwError(err.error.message);\n          }\n        }));\n      }\n      \n      addToken(request: HttpRequest<any>, token: string) {\n        return request.clone({\n          setHeaders: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n      }\n      \n      handle401Error(request: HttpRequest<any>, next: HttpHandler) {\n        if (!this.isRefreshing) {\n          this.isRefreshing = true;\n          this.refreshTokenSubject.next(null);\n          \n          return this.token.refreshToken().pipe(\n            switchMap((res: any) => {\n              this.isRefreshing = false;\n              this.refreshTokenSubject.next(res.accessToken);\n              return next.handle(this.addToken(request, res.accessToken));\n            }));\n            \n        } else {\n          return this.refreshTokenSubject.pipe(\n            filter(res => res != null),\n            take(1),\n            switchMap(res => {\n              return next.handle(this.addToken(request, res.accessToken));\n            }));\n        }\n      }\n          \n}","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { catchError, delay, filter, map, tap } from 'rxjs/operators';\nimport { of, throwError } from 'rxjs';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n\n  baseUrl = environment.baseUrl + '/api';\n\n  constructor(\n    private http: HttpClient,\n    private modalService: ModalService\n  ) { }\n\n  post(url: string, payload: object, options={}) {\n    return this.http.post<any>(`${this.baseUrl}${url}`, payload, options);\n  }\n\n  get(url: string) {\n    return this.http.get<any>(`${this.baseUrl}${url}`).pipe(\n      map(res => res.data || res));\n  }\n\n  patch(url: string, payload: object) {\n    return this.http.patch<any>(`${this.baseUrl}${url}`, payload);\n  }\n\n  delete(url: string) {\n    return this.http.delete<any>(`${this.baseUrl}${url}`);\n  }\n\n  errorHandler(modalService, err) {\n    const content = [\n      { title: 'Error' },\n      { html: '<p>Got the following error:</p>' },\n    ];\n    for (let key in err) {\n      const mssg = `<p><strong>${key}</strong>: ${JSON.stringify(err[key])}</p>`;\n      content.push({html: mssg});\n    }\n    const modal = {type: 'extended', content};\n    const location = {action: 'set', stack: ['Unhandled Error']};\n    modalService.open(modal, location);\n    return of(null);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subject, Observable, of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\nimport { ModalService } from '../shared/modal/modal.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocationService {\n\n  private _states = [];\n\n  private _location = new BehaviorSubject<string>('');\n  private _locationStack: Array<string> = [];\n\n  location$ = this._location.asObservable()\n\n  constructor() { }\n\n  private joinStackAndSend(stack) {\n    const location = stack.join(' > ');\n    this._location.next(location);\n  }\n\n  setStack(stack) {\n    if (!stack) return;\n\n    this._locationStack = stack;\n    this.joinStackAndSend(this._locationStack);\n  }\n\n  addItemToStack(stack) {\n    this._locationStack = this._locationStack.concat(stack);\n    this.joinStackAndSend(this._locationStack);\n  }\n\n  changeStackByAction(config:{action:string, stack?:Array<string>, remove?:number}) {\n    const {action, stack, remove} = config;\n\n    if (action === 'none') return;\n\n    // Remove stack if specified\n    if (remove) {\n      this.removeItemFromStack(remove);\n    }\n\n    const actions = {\n      set: (stack) => this.setStack(stack),\n      add: (stack) => this.addItemToStack(stack)\n    };\n    actions[action](stack);\n  }\n\n  removeItemFromStack(count=1) {\n    this._locationStack.splice(this._locationStack.length-count);\n  }\n\n  saveState() {\n    // Must be a copy because otherwise methods like pop, slice...\n    // will affect the saved state\n    this._states.push([...this._locationStack]);\n  }\n\n  restoreState() {\n    this._locationStack = this._states[this._states.length-1];\n    this.joinStackAndSend(this._locationStack);\n    this._states.pop();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from './api.service';\nimport { tap, map } from 'rxjs/operators';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenService {\n\n  private _user = new BehaviorSubject<any>(false);\n\n  user$ = this._user.asObservable();\n\n  constructor(\n    private api: ApiService,\n  ) {\n    // Check tokens existence\n    const refreshToken = localStorage.getItem('refreshToken');\n    const accessToken = localStorage.getItem('accessToken');\n\n    if (refreshToken && accessToken) {\n      const storedUserData = this.getUserData();\n      this._user.next(storedUserData);\n    }\n    else if (!refreshToken || !accessToken) {\n      this.removeTokens();\n    }\n  }\n\n\n  setTokens(refreshToken: string, accessToken: string) {\n    localStorage.setItem('refreshToken', refreshToken);\n    localStorage.setItem('accessToken', accessToken);\n\n    const userJWT = atob(accessToken.split('.')[1]);\n    const userParsed = JSON.stringify(JSON.parse(userJWT));\n\n    localStorage.setItem('userData', userParsed);\n  \n    this._user.next(JSON.parse(userJWT));\n  }\n\n  removeTokens() {\n    this._user.next(false);\n    localStorage.removeItem('refreshToken');\n    localStorage.removeItem('accessToken');\n    localStorage.removeItem('userData');\n  }\n\n  getUserData() {\n    if (this.isLogged()) {\n      return JSON.parse(localStorage.getItem('userData'));\n    } else {\n      return false;\n    }\n  }\n\n  getRefreshToken() {\n    return localStorage.getItem('refreshToken');\n  }\n\n  getAccessToken() {\n    return localStorage.getItem('accessToken');\n  }\n\n  isLogged() {\n    return !!this.getAccessToken();\n  }\n\n  getUserId() {\n    if (this.isLogged()) {\n      return this.getUserData().id;\n    } else {\n      return null;\n    }\n  }\n\n  isPublisher() {\n    const userData = this.getUserData();\n    if (userData) {\n      return (userData.role == 'publisher' || userData.role == 'admin');\n    } else {\n      return false;\n    }\n  }\n\n  isAdmin() {\n    const userData = this.getUserData();\n    if (userData) {\n      return userData.role == 'admin';\n    } else {\n      return false;\n    }\n  }\n\n  refreshToken() {\n    const payload = {\n      refreshToken: this.getRefreshToken()\n    }\n    return this.api.post('/tokens/refresh', payload).pipe(\n      map(res => res.message),\n      tap(res => {\n        localStorage.setItem('accessToken', res.accessToken);\n      })\n    );\n  }\n\n  updateData(newData) {\n    const currentUser = this.getUserData();\n    const newUser = Object.assign(currentUser, newData);\n    localStorage.setItem('userData', JSON.stringify(newUser));\n    this._user.next(newUser);\n  }\n\n}","import { Injectable } from '@angular/core';\nimport { LocationService } from 'src/app/services/location.service'; \nimport { NavbarService } from '../navbar/navbar.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModalService {\n  /*\n   *         / Type - Core\n   *        /----------/\n   * Service - Type - Core\n   *    \\\\  \\----------/\n   *     \\\\--------\\\n   *      \\ Type - Core\n   * \n   * - Service stores TypeModals & its CoreComponent\n   * - Core stores same type instances\n   * \n   * RULES:\n   *  - You can concat different types:\n   *    Ex: default, default, extended\n   * \n   *  - You cannot intercalate different types:\n   *    Ex: default, extended, default\n  */\n  private _responses = [];\n  private _modals = {};\n  private _actives = {\n    list: [],\n    getCurrent: function() { return this.list[this.list.length-1] }\n  }; // Store only type name\n\n  constructor(\n    private locationService: LocationService,\n    private navbarService: NavbarService\n  ) {\n  }\n\n  /**\n   * \n   * CLIENT CONTROLS\n   * \n   */\n  // open(type, content, params?, location?, menu?) {\n  open(modal: {type:string, content:any, params?:any, keepOpened?:boolean},\n       location: {action:string, stack?:Array<string>, remove?:number}, responseCb?) {\n    /*\n        Check actives:\n          -empty:                            (3)loadContent, (4)displayNew\n          - same:            (2)saveContent, (3)loadContent\n          - diff: (1)hideOld,                (3)loadContent, (4)displayNew\n\n        Before step 3, save location state\n        Current modal becomes old\n        Requested modal becomes new\n     */\n\n    const oldType = this._actives.getCurrent();\n    const oldModal = this._modals[oldType];\n    const newModal = this._modals[modal.type];\n\n    // (1) Hide old - { different }\n    if (!modal.keepOpened && oldType && oldType !== modal.type) {\n      // oldModal.wrapper.display = false;\n      oldModal.wrapper.hideModal();\n    }\n\n    // (2) Save old content - { same }\n    if (oldType === modal.type) {\n      oldModal.core.saveState();\n    }\n\n    // (*3) Save current location before loading new modal\n    this.locationService.saveState();\n    this.locationService.changeStackByAction(location);\n    // (*3) Save navbar menu sate\n    this.navbarService.saveState();\n\n\n    // (3) Load new content & set as active - { empty, same, different }\n    newModal.core.loadContent(modal.content);\n    this._actives.list.push(modal.type);\n\n    // (4) Display wrapper- { empty, different }\n    if (!oldType || oldType !== modal.type) {\n      // Assign params\n      newModal.wrapper = Object.assign(newModal.wrapper, modal.params);\n\n      // newModal.wrapper.display = true;\n      newModal.wrapper.displayModal();\n    }\n\n    // Save callback fn that will be used on emitResponse\n    this._responses.push(responseCb);\n  }\n\n  changeComponent(componentName) {\n    const type = this._actives.getCurrent();\n    const modal = this._modals[type];\n    modal.core.changeComponent(componentName);\n  }\n\n  emitResponse(end, res=null) {\n    // If no modal opened then return\n    if (this._actives.list.length === 0) return;\n\n    if (!end) {\n      const currentType = this._actives.getCurrent()\n      const currentModal = this._modals[currentType];\n      currentModal.wrapper.hideModal();\n\n      // Display if previous modal exists\n      const previousType = this._actives.list[this._actives.list.length-2];\n      if (previousType) {\n        const previousModal = this._modals[previousType];\n        previousModal.wrapper.displayModal();\n      }\n    }\n\n    // Check if response callback fn was given\n    const fn = this._responses[this._responses.length-1];\n    // If there is res cb fn and respose, run it\n    if (fn && res !== null) fn(res);\n    // If it is last emit, then close modal\n    if (end) {\n      const type = this._actives.getCurrent()\n      const modal = this._modals[type];\n      modal.core.onClose();\n    }\n  }\n\n  forceClose(count=1) {\n    // Count == 0 -> all list\n    const typesList = count === 0 ?\n      this._actives.list :\n      this._actives.list\n        .slice(this._actives.list.length-count)\n        .reverse() ;\n    // Important to use a copy, because we are working with a\n    // property that after the first iteration will be modified\n    for (const type of [...typesList]) {\n      // If nothing to close, return\n      if (!type) return;\n\n      // Trigger onClose()\n      // Once the core is clear, it will trigger close()\n      // from this service\n      const modal = this._modals[type];\n      modal.core.onClose();\n    }\n  }\n\n  closeByType(type) {\n    \n    if (!this._actives.list.includes(type)) return;\n    const modal = this._modals[type];\n    modal.core.onClose();\n  }\n\n\n\n\n  /**\n   * \n   * TYPEcomponent CONTROLS\n   * \n   */\n  initType(type, component) {\n    this._modals[type] = { \n      name: type,\n      wrapper: component\n    };\n  }\n  // changeContent(newContent, index?) {\n  //   const currentType = this._actives.getCurrent();\n  //   if (!currentType) return;\n\n  //   console.log(currentType);\n\n  //   this._modals[currentType].core.changeContent(newContent, index);\n  // }\n\n\n\n\n  /**\n   * \n   * COREcomponent CONTROLS\n   * \n   */\n  initCore(parentType, coreComponent) {\n    this._modals[parentType]['core'] = coreComponent;\n  }\n\n  close(type) {\n    // If nothing to close, return\n    if (!type) return;\n\n    // Remove response callback\n    this._responses.pop();\n\n    // Restore location & menu\n    this.locationService.restoreState();\n    this.navbarService.restoreState();\n\n    this._actives.list.pop();\n    this._responses.pop();\n\n    const previousType = this._actives.getCurrent();\n    const previousModal = this._modals[previousType];\n    const currentModal = this._modals[type];\n\n    if (!previousType) {\n      // currentModal.wrapper.display = false;\n      currentModal.wrapper.hideModal();\n    }\n    else if (previousType === type) {\n      previousModal.core.restoreState();\n    }\n    else if (previousType !== type) {\n      // currentModal.wrapper.display = false;\n      currentModal.wrapper.hideModal();\n      // previousModal.wrapper.display = true;\n      previousModal.wrapper.displayModal();\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LocationService } from 'src/app/services/location.service';\nimport { ModalService } from '../modal/modal.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavbarService {\n\n  navcomponent;\n\n  constructor(\n    private locationService: LocationService,\n    private router: Router\n  ) { }\n\n  init(component) {\n    this.navcomponent = component;\n  }\n\n  loadMenu(menu, current?) {\n    // Check if menu has components or paths\n    let idx;\n    let locStack = [];\n    if (current) {\n      if (!menu.trigger.includes(current.component)) return;\n      idx = menu.children.map(c => c.component).indexOf(current.component);\n    }\n    else {\n      idx = menu.selChildIdx;\n      // If root name provided, use it do define root location\n      if (menu.name) {\n        locStack.push(menu.name);\n      }\n    }\n\n    this.navcomponent.loadCustomMenu(menu.children, idx);\n\n    // Set location only if it is not a reactivation\n    if (menu.activated) {\n      locStack.push(menu.children[idx].name)\n      this.locationService.setStack(locStack);\n    }\n\n  }\n\n  changeMenuItem(menuItemIdx) {\n    this.navcomponent.changeMenuItem(menuItemIdx);\n  }\n\n  saveState() {\n    this.navcomponent.saveState();\n  }\n\n  restoreState() {\n    this.navcomponent.restoreState();\n  }\n\n  compareAndSelect(route, skipMenu=false) {\n    this.navcomponent.simulation = true;\n\n    const url = this.navcomponent.detectUrl(route);\n    this.navcomponent.changeItem(url, skipMenu);\n  }\n\n  go(path, skipMenu=false) {\n    // Navigate\n    this.router.navigate([path]);\n    const url = this.navcomponent.detectUrl(path);\n    // Change selected navbar item and load menu list\n\n    this.navcomponent.changeItem(url, skipMenu);\n    // Change location\n    this.locationService.setStack(this.navcomponent.getPathNames(url));\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  baseUrl: 'http://localhost:3000'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}