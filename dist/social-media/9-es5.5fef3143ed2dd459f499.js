function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,i){return t&&_defineProperties(n.prototype,t),i&&_defineProperties(n,i),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6Kw5":function(n,t,i){"use strict";i.d(t,"a",(function(){return o}));var e=i("fXoL"),o=function(){var n=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"transform",value:function(n,t){if(n){var i=Math.floor((+new Date-+new Date(n))/1e3);if(i<29)return"Just now";var e,o={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};for(var r in o)if((e=Math.floor(i/o[r]))>0)return 1===e?e+" "+r+" ago":e+" "+r+"s ago"}return n}}]),n}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Ib({name:"dateAgo",type:n,pure:!0}),n}()},KdzI:function(n,t,i){"use strict";i.r(t),i.d(t,"NotificationsModule",(function(){return w}));var e,o=i("ofXK"),r=i("tyNb"),a=i("fXoL"),c=i("H+bZ"),s=((e=function(){function n(t){_classCallCheck(this,n),this.api=t}return _createClass(n,[{key:"getNotifications",value:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.api.get("/notifications?onlyUnread="+n)}},{key:"markAsRead",value:function(n){return this.api.get("/notifications/read/"+n)}}]),n}()).\u0275fac=function(n){return new(n||e)(a.Sb(c.a))},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e),f=i("N3Xk"),u=i("6Kw5");function l(n,t){if(1&n){var i=a.Pb();a.Ob(0,"button",6),a.Wb("click",(function(){a.nc(i);var n=a.ac().$implicit;return a.ac(2).markAsRead(n)})),a.uc(1,"Mark as read"),a.Nb()}}function d(n,t){if(1&n){var i=a.Pb();a.Ob(0,"div"),a.Ob(1,"div",3),a.Ob(2,"span",4),a.Wb("click",(function(){a.nc(i);var n=t.$implicit;return a.ac(2).goToUser(n.responsible._id)})),a.uc(3),a.Nb(),a.Ob(4,"span"),a.uc(5),a.bc(6,"dateAgo"),a.Nb(),a.sc(7,l,2,0,"button",5),a.Nb(),a.Nb()}if(2&n){var e=t.$implicit;a.zb(3),a.xc(" ",e.responsible.name," \xa0(@",e.responsible.username,") "),a.zb(2),a.xc("\xa0",e.text," - ",a.cc(6,5,e.createdAt),""),a.zb(2),a.fc("ngIf",!e.read)}}function b(n,t){if(1&n&&(a.Ob(0,"div"),a.sc(1,d,8,7,"div",2),a.Nb()),2&n){var i=a.ac();a.zb(1),a.fc("ngForOf",i.notificationsList)}}function p(n,t){1&n&&(a.Ob(0,"div",7),a.uc(1," You do not have notifications\n"),a.Nb())}var h,v,g,m=((h=function(){function n(t,i,e){_classCallCheck(this,n),this.notifications=t,this.route=i,this.navbarService=e,this.isLogged=!1,this.notificationsCount=2}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.notificationsFilter=this.route.snapshot.data.filter,this.notifications.getNotifications("unread"===this.notificationsFilter).subscribe((function(t){n.notificationsList=t.reverse()}))}},{key:"markAsRead",value:function(n){"all"===this.notificationsFilter?n.read=!0:this.notificationsList=this.notificationsList.filter((function(t){return t!==n})),this.notifications.markAsRead(n._id).subscribe()}},{key:"goToUser",value:function(n){this.navbarService.go("/u/"+n)}}]),n}()).\u0275fac=function(n){return new(n||h)(a.Jb(s),a.Jb(r.a),a.Jb(f.a))},h.\u0275cmp=a.Db({type:h,selectors:[["app-notifications-list"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","no-list",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"notification"],[1,"responsible",3,"click"],["class","read-button",3,"click",4,"ngIf"],[1,"read-button",3,"click"],[1,"no-list"]],template:function(n,t){1&n&&(a.sc(0,b,2,1,"div",0),a.sc(1,p,2,0,"div",1)),2&n&&(a.fc("ngIf",t.notificationsList),a.zb(1),a.fc("ngIf",0===(null==t.notificationsList?null:t.notificationsList.length)))},directives:[o.k,o.j],pipes:[u.a],styles:[".notification[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:row;align-items:center;border-bottom:.15rem solid var(--primary-color)}.read-button[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--primary-color);padding:1rem;margin-left:auto;border-radius:400px;color:var(--text-color);cursor:pointer;font-weight:700}.read-button[_ngcontent-%COMP%]:hover{background-color:#15ac59}.responsible[_ngcontent-%COMP%]{color:#06b8ff;cursor:pointer;z-index:5}.responsible[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.acc-photo[_ngcontent-%COMP%]{width:2.9rem;height:2.9rem;border-radius:50%;background-color:red;margin-right:.8rem}.acc-profile[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;z-index:5}.no-list[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-size:1.2rem}"]}),h),k=[{path:"all",component:m,data:{filter:"all"}},{path:"unread",component:m,data:{filter:"unread"}}],y=((v=function n(){_classCallCheck(this,n)}).\u0275mod=a.Hb({type:v}),v.\u0275inj=a.Gb({factory:function(n){return new(n||v)},imports:[[r.e.forChild(k)],r.e]}),v),C=i("iTUp"),w=((g=function n(){_classCallCheck(this,n)}).\u0275mod=a.Hb({type:g}),g.\u0275inj=a.Gb({factory:function(n){return new(n||g)},imports:[[o.c,y,C.a]]}),g)},iTUp:function(n,t,i){"use strict";i.d(t,"a",(function(){return o}));var e=i("fXoL"),o=function(){var n=function n(){_classCallCheck(this,n)};return n.\u0275mod=e.Hb({type:n}),n.\u0275inj=e.Gb({factory:function(t){return new(t||n)}}),n}()}}]);