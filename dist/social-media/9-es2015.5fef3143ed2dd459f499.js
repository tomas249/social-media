(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6Kw5":function(t,n,i){"use strict";i.d(n,"a",(function(){return e}));var o=i("fXoL");let e=(()=>{class t{transform(t,n){if(t){const n=Math.floor((+new Date-+new Date(t))/1e3);if(n<29)return"Just now";const i={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let o;for(const t in i)if(o=Math.floor(n/i[t]),o>0)return 1===o?o+" "+t+" ago":o+" "+t+"s ago"}return t}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=o.Ib({name:"dateAgo",type:t,pure:!0}),t})()},KdzI:function(t,n,i){"use strict";i.r(n),i.d(n,"NotificationsModule",(function(){return v}));var o=i("ofXK"),e=i("tyNb"),r=i("fXoL"),c=i("H+bZ");let s=(()=>{class t{constructor(t){this.api=t}getNotifications(t=!0){return this.api.get("/notifications?onlyUnread="+t)}markAsRead(t){return this.api.get("/notifications/read/"+t)}}return t.\u0275fac=function(n){return new(n||t)(r.Sb(c.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var a=i("N3Xk"),f=i("6Kw5");function u(t,n){if(1&t){const t=r.Pb();r.Ob(0,"button",6),r.Wb("click",(function(){r.nc(t);const n=r.ac().$implicit;return r.ac(2).markAsRead(n)})),r.uc(1,"Mark as read"),r.Nb()}}function l(t,n){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"div",3),r.Ob(2,"span",4),r.Wb("click",(function(){r.nc(t);const i=n.$implicit;return r.ac(2).goToUser(i.responsible._id)})),r.uc(3),r.Nb(),r.Ob(4,"span"),r.uc(5),r.bc(6,"dateAgo"),r.Nb(),r.sc(7,u,2,0,"button",5),r.Nb(),r.Nb()}if(2&t){const t=n.$implicit;r.zb(3),r.xc(" ",t.responsible.name," \xa0(@",t.responsible.username,") "),r.zb(2),r.xc("\xa0",t.text," - ",r.cc(6,5,t.createdAt),""),r.zb(2),r.fc("ngIf",!t.read)}}function d(t,n){if(1&t&&(r.Ob(0,"div"),r.sc(1,l,8,7,"div",2),r.Nb()),2&t){const t=r.ac();r.zb(1),r.fc("ngForOf",t.notificationsList)}}function b(t,n){1&t&&(r.Ob(0,"div",7),r.uc(1," You do not have notifications\n"),r.Nb())}let p=(()=>{class t{constructor(t,n,i){this.notifications=t,this.route=n,this.navbarService=i,this.isLogged=!1,this.notificationsCount=2}ngOnInit(){this.notificationsFilter=this.route.snapshot.data.filter,this.notifications.getNotifications("unread"===this.notificationsFilter).subscribe(t=>{this.notificationsList=t.reverse()})}markAsRead(t){"all"===this.notificationsFilter?t.read=!0:this.notificationsList=this.notificationsList.filter(n=>n!==t),this.notifications.markAsRead(t._id).subscribe()}goToUser(t){this.navbarService.go("/u/"+t)}}return t.\u0275fac=function(n){return new(n||t)(r.Jb(s),r.Jb(e.a),r.Jb(a.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-notifications-list"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","no-list",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"notification"],[1,"responsible",3,"click"],["class","read-button",3,"click",4,"ngIf"],[1,"read-button",3,"click"],[1,"no-list"]],template:function(t,n){1&t&&(r.sc(0,d,2,1,"div",0),r.sc(1,b,2,0,"div",1)),2&t&&(r.fc("ngIf",n.notificationsList),r.zb(1),r.fc("ngIf",0===(null==n.notificationsList?null:n.notificationsList.length)))},directives:[o.k,o.j],pipes:[f.a],styles:[".notification[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:row;align-items:center;border-bottom:.15rem solid var(--primary-color)}.read-button[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--primary-color);padding:1rem;margin-left:auto;border-radius:400px;color:var(--text-color);cursor:pointer;font-weight:700}.read-button[_ngcontent-%COMP%]:hover{background-color:#15ac59}.responsible[_ngcontent-%COMP%]{color:#06b8ff;cursor:pointer;z-index:5}.responsible[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.acc-photo[_ngcontent-%COMP%]{width:2.9rem;height:2.9rem;border-radius:50%;background-color:red;margin-right:.8rem}.acc-profile[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;z-index:5}.no-list[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-size:1.2rem}"]}),t})();const g=[{path:"all",component:p,data:{filter:"all"}},{path:"unread",component:p,data:{filter:"unread"}}];let m=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(n){return new(n||t)},imports:[[e.e.forChild(g)],e.e]}),t})();var h=i("iTUp");let v=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(n){return new(n||t)},imports:[[o.c,m,h.a]]}),t})()},iTUp:function(t,n,i){"use strict";i.d(n,"a",(function(){return e}));var o=i("fXoL");let e=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(n){return new(n||t)}}),t})()}}]);