{"version":3,"sources":["webpack:///src/app/modules/profile/profile-card/profile-card.component.ts","webpack:///src/app/modules/profile/profile-card/profile-card.component.html","webpack:///src/app/modules/profile/profile-edit/profile-edit.component.ts","webpack:///src/app/modules/profile/profile-edit/profile-edit.component.html","webpack:///src/app/modules/profile/profile-page/profile-page.component.ts","webpack:///src/app/modules/profile/profile-page/profile-page.component.html","webpack:///src/app/modules/profile/profile-routing.module.ts","webpack:///src/app/modules/profile/profile.module.ts","webpack:///src/app/modules/profile/profile.service.ts","webpack:///src/app/modules/profile/users-list/users-list.component.ts","webpack:///src/app/modules/profile/users-list/users-list.component.html"],"names":["ProfileCardComponent","modalService","profileService","navbarService","tokenService","router","allowEdit","isOwner","closeByType","uid","user","_id","queryUrl","content","title","username","module","component","params","showOptPosts","modal","type","location","action","stack","remove","open","populate","userId","listName","toUpperCase","slice","c","count","following","checkAuth","isFollowing","followers","follow","pipe","subscribe","go","aroba","updatedUser","Object","assign","message","isLogged","navigateEnd","_user","f","o","goToUser","openPosts","openList","selector","templateUrl","styleUrls","ProfileEditComponent","avatarUrl","avatar","fullPath","event","image","target","files","selectedImg","createFormData","url","name","description","uploadProgress","subscription","updateAvatar","res","completed","updateUserData","hasOwnProperty","progress","success","emitResponse","data","file","cb","reader","FileReader","readAsDataURL","onload","_event","imageSelect","nativeElement","value","result","media","response","format","valid","splittedFormat","match","size","onImageSelect","onSave","ProfilePageComponent","route","locationService","tabs","posts","replies","getIdx","indexOf","isValid","includes","params$","p","tab","selectedTab","byData","checkDataType","getUser","setStack","profile","first","menu","getMenu","selChildIdx","loadMenu","itemIdx","changeMenuItem","test","uname","root","children","activated","path","icon","unsubscribe","routes","redirectTo","pathMatch","ProfileRoutingModule","forChild","imports","exports","ProfileModule","components","UsersListComponent","declarations","ProfileService","api","uploadFile","uFollowing","getUserId","allPaths","get","replace","followerUID","getFollows","u","r","uFwing","fList","reduce","acc","concat","post","newImage","fd","FormData","append","opt","getOptions","getProgress","completedUpload","avatarPath","filename","relativePath","baseUrl","providedIn","isFollowingFromList","list","item","forceClose"],"mappings":"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","file":"src-app-modules-profile-profile-module-es5.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\nimport { TokenService } from 'src/app/services/token.service';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { NavbarService } from 'src/app/shared/navbar/navbar.service';\nimport { ProfileService } from '../profile.service';\n\n@Component({\n  selector: 'app-profile-card',\n  templateUrl: './profile-card.component.html',\n  styleUrls: ['./profile-card.component.css']\n})\nexport class ProfileCardComponent implements OnInit {\n\n  // When using this component as modal, there is usually\n  // no need to edit the account\n  @Input() allowEdit = true;\n\n  isFollowing;\n  isOwner = true;\n\n  _user;\n  @Input() \n  set user(user) {\n    this._user = {...user};\n\n    this.profileService.isFollowing(user._id).subscribe(([f, o]) => {\n      this.isFollowing = f;\n      this.isOwner = o;\n    });\n\n    \n  }\n  get user() {\n    return this._user;\n  }\n\n\n\n  constructor(\n    private modalService: ModalService,\n    private profileService: ProfileService,\n    private navbarService: NavbarService,\n    private tokenService: TokenService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  openPosts() {\n    // Close tooltip if exists\n    this.modalService.closeByType('tooltip')\n\n    const uid = this.user._id;\n    const queryUrl = `/posts?owner=${uid}&parent[size]=0&childLevel=0`\n\n    const content = [\n      { title: `@${this.user.username} Posts List` },\n      { module: 'Posts', component: 'PostsList',\n        params: {queryUrl, showOptPosts: false} }\n    ];\n    const modal = {type: 'default', content};\n    const location = {action:'add', stack:['List', 'Posts'], remove: 1};\n    this.modalService.open(modal, location);\n  }\n\n  openList(populate) {\n    // Close tooltip if exists\n    this.modalService.closeByType('tooltip');\n\n    const userId = this.user._id;\n\n    const listName = populate[0].toUpperCase()+populate.slice(1);\n    const content = [\n      { title: `@${this.user.username} ${listName} list` },\n      { module: 'Profile', component: 'UsersList',\n        params: {userId, populate} }\n    ];\n    const modal = {type: 'default', content};\n    const location = {action:'add', stack:['List', listName], remove: 1};\n    this.modalService.open(modal, location, (c) => {\n      this.user.count.following += c;\n    });\n  }\n\n  follow() {\n    if (!this.checkAuth('In order to follow someone you need to be logged in')) return;\n    this.isFollowing = !this.isFollowing;\n    this.user.count.followers += !this.isFollowing ? -1 : 1 ;\n    this.profileService.follow(this.user._id).pipe(first()).subscribe();\n  }\n\n  goToUser(uid) {\n    // Close tooltip if exists\n    this.modalService.closeByType('tooltip');\n    \n    this.navbarService.go(`/u/${uid}/`);\n  }\n\n  onEditAccount() {\n    this.modalService.closeByType('tooltip');\n    const aroba = `@${this.user.username}`;\n    const content = [\n      { title: `Editing ${aroba} profile` },\n      { module: 'Profile', component: 'ProfileEdit', params: {user: this.user}}\n    ];\n    const modal = {type: 'extended', content};\n    const location = {action:'add', stack:['Edit'], remove:1};\n    this.modalService.open(modal, location, (updatedUser) => {\n      this.user = Object.assign(this.user, updatedUser);\n    });\n  }\n\n  private checkAuth(message) {\n    if (this.tokenService.isLogged()) {\n      return true;\n    }\n    else {\n      // Close tooltip if exists\n      this.modalService.closeByType('tooltip');\n      // Open auth modal\n      const modal = {type: 'default', content: [\n        { title: message },\n        { module: 'Auth', component: 'Login', params: {navigateEnd: false} }\n      ]};\n      const location = {action: 'add', stack: ['Login']};\n      this.modalService.open(modal, location);\n      return false\n    }\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"row\">\n    <img class=\"acc-photo\" [src]=\"user.avatar.relativePath\" (click)=\"goToUser(user._id)\">\n    <ng-container *ngIf=\"!isOwner\">\n      <div class=\"follow-bttn\" (click)=\"follow()\"\n        [ngClass]=\"isFollowing ? 'following' : 'not-following'\">\n      </div>\n    </ng-container>\n  </div>\n\n  <div class=\"accounts\">\n    <span class=\"acc-name\" (click)=\"goToUser(user._id)\">{{ user.name }}</span>\n    <span class=\"acc-username\" (click)=\"goToUser(user._id)\">@{{ user.username }}</span>\n    <span class=\"acc-edit\" (click)=\"onEditAccount()\" *ngIf=\"isOwner\">Edit profile</span>\n  </div>\n\n  <div>{{ user.description }}</div>\n\n  <div class=\"row count-row\">\n    <div class=\"column\">\n      <span class=\"section\">Posts</span>\n      <span class=\"section-count\" (click)=\"openPosts()\">{{ user.count.posts }}</span>\n    </div>\n    <div class=\"column\">\n      <span class=\"section\">Followers</span>\n      <span class=\"section-count\" (click)=\"openList('followers')\">{{ user.count.followers }}</span>\n    </div>\n    <div class=\"column\">\n      <span class=\"section\">Following</span>\n      <span class=\"section-count\" (click)=\"openList('following')\">{{ user.count.following }}</span>\n    </div>\n  </div>\n\n</div>","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { of } from 'rxjs';\nimport { flatMap, map, mergeMap, switchMap, tap } from 'rxjs/operators';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { ProfileService } from '../profile.service';\n\n@Component({\n  selector: 'app-profile-edit',\n  templateUrl: './profile-edit.component.html',\n  styleUrls: ['./profile-edit.component.css']\n})\nexport class ProfileEditComponent implements OnInit {\n\n  user = null;\n\n  avatarUrl;\n  selectedImg;\n\n  uploadProgress;\n\n  @ViewChild('imageSelectInput') imageSelect: ElementRef\n\n\n  constructor(\n    private profileService: ProfileService,\n    private modalService: ModalService\n  ) { }\n\n  ngOnInit(): void {\n    this.avatarUrl = this.user.avatar.fullPath;\n  }\n\n  onImageSelect(event) {\n    const image = event.target.files[0];\n    // Set image file\n    this.selectedImg = image;\n    // Display image\n    this.createFormData(image, url => { this.avatarUrl = url });\n  }\n\n  onCancelSelectedImage() {\n    this.avatarUrl = this.user.avatar.fullPath;\n    this.selectedImg = null;\n  }\n\n  onSave(name, description) {\n    // Validate\n    if (!name || !description || this.uploadProgress) return;\n    let updatedUser = {name, description};\n\n    // Different subscription if avatar is updated too\n    let subscription;\n    if (this.selectedImg) {\n      subscription = this.profileService.updateAvatar(this.selectedImg).pipe(\n        mergeMap((res:{completed, message, avatar, progress}) => {\n          if (res.completed) {\n            const user = Object.assign(updatedUser, {avatar: res.avatar})\n            return this.profileService.updateUserData(user);\n          }\n          else {\n            return of(res);\n          }\n        })\n      );\n    }\n    else {\n      subscription = this.profileService.updateUserData(updatedUser);\n    }\n    \n    subscription.subscribe(res => {\n      if (res.hasOwnProperty('progress')) {\n        this.uploadProgress = res.progress;\n      }\n      else if (res.success) {\n        this.uploadProgress = false; \n        this.modalService.emitResponse(true, res.data);\n      }\n    });\n\n  }\n\n  /**\n   * Image functions\n   */\n\n  private createFormData(file, cb) {\n    const reader = new FileReader;\n    reader.readAsDataURL(file);\n    reader.onload = (_event:any) => { \n      // Clear file input\n      this.imageSelect.nativeElement.value = '';\n      cb(reader.result)\n    };\n  }\n\n  private tempFilter(media) {\n    let response: {format: string, valid: boolean, message: string} = {\n      format: null,\n      valid: null,\n      message: null\n    };\n    const splittedFormat = media.type.match(/(\\w+)\\/(\\w+)?/);\n    response.format = splittedFormat[1]\n    if (response.format === 'video') {\n      response.valid = !(media.size > 15000000);\n      response.message = 'Max size is 15MB';\n    }\n    else if (response.format === 'image') {\n      response.valid = true;\n    }\n    else {\n      response.valid = false;\n      response.message = `'<strong>${splittedFormat[2]}</strong>' is not a valid format.`;\n    }\n    return response;\n  }\n\n}\n","<div class=\"container\">\n  <input #imageSelectInput type=\"file\" (change)=\"onImageSelect($event)\" style=\"display: none;\">\n  <div class=\"row\">\n    <div class=\"indicator\">Avatar:</div>\n    <div class=\"data\">\n      <img class=\"acc-photo\" [src]=\"avatarUrl\">\n      <input\n        *ngIf=\"selectedImg\"\n        (click)=\"onCancelSelectedImage()\"\n        class=\"acc-photo-change\"\n        type=\"button\"\n        value=\"Cancel\">\n      <input\n        (click)=\"imageSelectInput.click()\"\n        class=\"acc-photo-change\"\n        type=\"button\"\n        [value]=\"selectedImg ? 'Select new image' : 'Change profile image'\">\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"indicator\">Name:</div>\n    <div class=\"data\">\n      <input #name class=\"acc-name input\" type=\"text\" [value]=\"user.name\">\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"indicator\">Description:</div>\n    <div class=\"data\">\n      <textarea #description class=\"acc-description input\" [value]=\"user.description\"></textarea>\n    </div>\n  </div>\n  <div class=\"row\">\n    <button [ngClass]=\"{'disabled': uploadProgress}\" class=\"btn-save\" (click)=\"onSave(name.value, description.value)\">\n      <span>Save</span>\n      <span *ngIf=\"uploadProgress\"> ({{ uploadProgress }} %)</span>\n    </button>\n  </div>\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { of } from 'rxjs';\nimport { catchError, filter, first, flatMap, map, tap } from 'rxjs/operators';\nimport { LocationService } from 'src/app/services/location.service';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { NavbarService } from 'src/app/shared/navbar/navbar.service';\nimport { ProfileService } from '../../profile/profile.service';\n\n@Component({\n  selector: 'app-profile-page',\n  templateUrl: './profile-page.component.html',\n  styleUrls: ['./profile-page.component.css']\n})\nexport class ProfilePageComponent implements OnInit, OnDestroy {\n\n  user;\n  selectedTab;\n  tabs = {\n    posts: {\n      name: 'Posts',\n      queryUrl: (uid) => `/posts?owner=${uid}&parent[size]=0&childLevel=0`\n    },\n    replies: {\n      name: 'Replies',\n      queryUrl: (uid) => `/posts?owner=${uid}&parent[not][size]=0&childLevel=0`\n    },\n    media: {\n      name: 'Media',\n      queryUrl: (uid) => `/posts?owner=${uid}&media[gte][size]=1&childLevel=0`\n    },\n    getIdx: (name) => ['posts', 'replies', 'media'].indexOf(name),\n    isValid: (name) => ['posts', 'replies', 'media'].includes(name)\n  };\n  queryUrl;\n  params$;\n\n  menu;\n\n  constructor(\n    private profileService: ProfileService,\n    private route: ActivatedRoute,\n    private navbarService: NavbarService,\n    private modalService: ModalService,\n    private locationService: LocationService\n  ) { }\n\n  ngOnInit(): void {\n    this.params$ = this.route.params.pipe(\n      // Fix & set incorrect tab param\n      map(p => {\n        // If incorrect, just select 'posts'\n        // Later on, interacting with the menu it will be fixed automatically\n        const tab = this.tabs.isValid(p.tab) ? p.tab : 'posts';\n        // Set new tab\n        this.selectedTab = tab;\n        return { byData: p.byData, tab }\n      }),\n      // USER\n      flatMap(p => {\n        // First load or new user -> let's get user data\n        if (!this.user || this.user?.username !== p.byData) {\n\n          const byData = p.byData;\n          const type = this.checkDataType(byData);\n          return this.profileService.getUser(byData, type).pipe(\n            tap(res => { \n              if (!res) {\n                this.locationService.setStack(['User not found']);\n                this.user = false;\n              } \n            }),\n            filter(res => res),\n            map(profile => {\n              return {\n                first: !this.user,\n                tab: p.tab,\n                user: profile,\n              };\n            })\n          );\n        }\n        // If user altready loaded and this params changed\n        // means that only tab has changed\n        else {\n          return of({\n            first: false,\n            tab: p.tab,\n            user: false,\n          });\n        }\n      }),\n      tap(p => {\n        // If p.user exists means that the user is new and has to be updated\n        if (p.user) {\n          this.user = p.user;\n\n          this.menu = this.getMenu(p.user?.username || this.user.username);\n          this.menu.selChildIdx = this.tabs.getIdx(p.tab);\n          this.navbarService.loadMenu(this.menu);\n        }\n      }),\n      // CONTENT\n      tap(p => {\n        this.queryUrl = this.tabs[p.tab].queryUrl(p.user?._id || this.user._id);\n      }),\n    ).subscribe(content => {\n    });\n  }\n\n  changeTab(tab) {\n    const itemIdx = this.tabs.getIdx(tab);\n    this.navbarService.changeMenuItem(itemIdx);\n  }\n\n  private checkDataType(byData) {\n    switch (true) {\n      case /^[a-z0-9]{24}$/.test(byData):\n        return 0;\n      case /^.+[0-9]{4}[A-Z]{1}$/.test(byData):\n        return 1;\n      default:\n        return null;\n    }\n  }\n\n  private getMenu(uname) {\n    return {\n      root: 'Profile',\n      name: [`@${uname}`],\n      children: [\n        { name: ['Posts'], activated: true, path: `/u/${uname}/`, icon: 'text_snippet' },\n        { name: ['Replies'], activated: true, path: `/u/${uname}/replies`, icon: 'reply' },\n        { name: ['Media'], activated: true, path: `/u/${uname}/media`, icon: 'movie' }\n      ],\n      activated: true,\n      selChildIdx: 0\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.params$.unsubscribe()\n  }\n\n  getFollowers() {\n    const content = [\n      { title: 'Followers' },\n      { module: 'Profile', component: 'UsersList',\n        params: {userId: this.user._id, populate: 'followers'} }\n    ];\n    const modal = {type: 'default', content};\n    const location = {action:'add', stack:[]};\n    this.modalService.open(modal, location);\n  }\n\n}\n","<div *ngIf=\"user\">\n  <app-profile-card [user]=\"user\"></app-profile-card>\n\n  <div class=\"tabs-row noselect\">\n    <div class=\"tab-container\" (click)=\"changeTab('posts')\"\n    [ngClass]=\"selectedTab === 'posts' && 'selected'\">\n      <span class=\"tab\" >Posts</span>\n    </div>\n  \n    <div class=\"tab-container\" (click)=\"changeTab('replies')\"\n    [ngClass]=\"selectedTab === 'replies' && 'selected'\">\n      <span class=\"tab\">Replies</span>\n    </div>\n  \n    <div class=\"tab-container\" (click)=\"changeTab('media')\"\n    [ngClass]=\"selectedTab === 'media' && 'selected'\">\n      <span class=\"tab\">Media</span>\n    </div>\n  </div>\n\n  <div *ngIf=\"queryUrl\">\n    <app-posts-list [showOptPosts]=\"false\" [queryUrl]=\"queryUrl\"></app-posts-list>\n  </div>\n</div>\n\n<div *ngIf=\"user === false\" style=\"padding: 2rem\">\n  User not found\n</div>\n\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n// Components\nimport { ProfilePageComponent } from './profile-page/profile-page.component';\n\nconst routes: Routes = [\n  {\n    path: ':byData',\n    redirectTo: ':byData/',\n    pathMatch: 'full'\n  },\n  {\n    path: ':byData/:tab',\n    component: ProfilePageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProfileRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ProfileRoutingModule } from './profile-routing.module';\n\nimport { ProfileCardComponent } from './profile-card/profile-card.component';\nimport { ProfilePageComponent } from './profile-page/profile-page.component';\nimport { UsersListComponent } from './users-list/users-list.component';\nimport { ProfileEditComponent } from './profile-edit/profile-edit.component';\n\nimport { PostsModule } from '../posts/posts.module';\n\n@NgModule({\n  declarations: [ProfileCardComponent, ProfilePageComponent, UsersListComponent, ProfileEditComponent],\n  imports: [\n    CommonModule,\n    ProfileRoutingModule,\n    PostsModule,\n  ]\n})\nexport class ProfileModule {\n  static components = {\n    ProfileCardComponent,\n    UsersListComponent,\n    ProfileEditComponent\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { forkJoin, iif, of } from 'rxjs';\nimport { flatMap, map, tap } from 'rxjs/operators';\nimport { ApiService } from 'src/app/services/api.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { UploadFileService } from 'src/app/services/upload-file.service';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProfileService {\n\n  uid;\n  uFollowing = [];\n\n  constructor(\n    private api: ApiService,\n    private tokenService: TokenService,\n    private location: Location,\n    private router: Router,\n    private uploadFile: UploadFileService,\n  ) {\n    if (this.tokenService.isLogged()) {\n      this.uid = this.tokenService.getUserId();\n    }\n  }\n\n  \n\n  // Get user data\n  getUser(byData, type) {\n    if (type === null) { return of(false) }\n\n    // // If used 'me', replace by username\n    // if (byData === 'me') {\n    //   const url = this.router.url.replace('me', user.username);\n    //   this.location.go(url);\n    // }\n\n    const allPaths = [\n      (uid) => `/users/${uid}`,\n      (uname) => `/users/u/${uname}`\n    ];\n\n    const path = allPaths[type](byData);\n\n    return this.api.get(path).pipe(\n      tap(profile => {\n        // If uid used then change url by username\n        if (type === 0) {\n          const url = this.router.url.replace(byData, profile.username);\n          this.location.go(url);\n        }\n      })\n    );\n  }\n\n  getFollows(uid, populate?) {\n    return this.api.get(`/users/${uid}/followList/${populate}`);\n  }\n\n  isFollowing(followerUID) {\n    if (followerUID === this.uid) {\n      return of([false, true]);\n    }\n    else if (this.uid) {\n      return this.getFollows(this.uid).pipe(\n        map(f => [f.following.includes(followerUID), false])\n      );\n    }\n    else {\n      // Not following and not owner\n      return of([false, false]);\n    }\n  }\n\n  isFollowingFromList(uid, populate) {\n    // Get populated list\n    return forkJoin({\n      f: this.getFollows(uid, populate),\n      u: iif(() => this.uid, this.getFollows(this.uid), of({following: []}))\n    }).pipe(\n      map(r => {\n        const uFwing = r.u.following;\n        const fList = r.f[populate];\n        return fList.reduce((acc, f) => {\n          return acc.concat({\n            isOwner: f._id === this.uid,\n            isFollowing: uFwing.includes(f._id),\n            user: f\n          });\n        }, []);\n      })\n    );\n  }\n\n  follow(uid) {\n    return this.api.get(`/users/${uid}/follow`);\n  }\n\n  updateUserData(updatedUser) {\n    return this.api.post('/users/updateProfile', {updatedUser});\n  }\n\n\n  updateAvatar(newImage) {\n    const fd = new FormData();\n    fd.append('avatar', newImage);\n\n    const opt = this.uploadFile.getOptions();\n    \n    // Upload all images to get their url\n    return this.api.post('/files/updateAvatar', fd, opt).pipe(\n      map(event => {\n\n        const res = this.uploadFile.getProgress(event);\n        if (!res.completedUpload) {\n          return res;\n        }\n        else {\n          const avatarPath = res.data;\n          const avatar = {\n            filename: avatarPath,\n            relativePath: `/a/${avatarPath}`,\n            fullPath: `${environment.baseUrl}/a/${avatarPath}`\n          };\n          return {\n            completed: true,\n            message: res.message,\n            avatar\n          };\n        }\n      },\n    ));\n  }\n\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\nimport { ModalService } from 'src/app/shared/modal/modal.service';\nimport { NavbarService } from 'src/app/shared/navbar/navbar.service';\nimport { ProfileService } from '../profile.service';\n\n@Component({\n  selector: 'app-users-list',\n  templateUrl: './users-list.component.html',\n  styleUrls: ['./users-list.component.css']\n})\nexport class UsersListComponent implements OnInit, OnDestroy {\n\n  userId = null;\n  populate = null;\n  list;\n\n  count = 0;\n\n  constructor(\n    private profileService: ProfileService,\n    private modalService: ModalService,\n    private navbarService: NavbarService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    this.profileService.isFollowingFromList(this.userId, this.populate)\n    .pipe(first())\n    .subscribe(list => {\n      this.list = list;\n    });\n  }\n\n  follow(item) {\n    item.isFollowing = !item.isFollowing;\n    item.user.count.followers += !item.isFollowing ? -1 : 1 ;\n    this.count += !item.isFollowing ? -1 : 1 ;\n    this.profileService.follow(item.user._id).pipe(first()).subscribe();\n  }\n\n  go(uid) {\n    this.modalService.forceClose();\n    this.navbarService.go(`/u/${uid}/`);\n  }\n\n  ngOnDestroy(): void {\n    this.modalService.emitResponse(false, this.count);\n  }\n\n}\n","<div *ngIf=\"list?.length === 0\">\n  <span>No users</span>\n</div>\n\n<ng-container *ngIf=\"list\">\n  <div *ngFor=\"let item of list; let i=index; let isLast=last\">\n    <div class=\"container\" >\n      <img  class=\"acc-photo\" (click)=\"go(item.user._id)\" [src]=\"item.user.avatar.relativePath\">\n      <div class=\"acc-names\" (click)=\"go(item.user._id)\">\n        <span class=\"acc-name\">{{ item.user.name }}</span>\n        <span class=\"acc-username\">@{{ item.user.username }}</span>\n      </div>\n      <button *ngIf=\"!item.isOwner; else itIsYou\" class=\"follow-bttn\"\n      [ngClass]=\"item.isFollowing ? 'following' : 'not-following'\"\n      (click)=\"follow(item)\"></button>\n      <ng-template #itIsYou><span class=\"push-right\">You</span></ng-template>\n    </div>\n    <hr class=\"divider\" *ngIf=\"!isLast\">\n  </div>\n</ng-container>\n"]}